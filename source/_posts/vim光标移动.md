---
title: vim光标移动
date: 2020-01-28 23:52:41
tags:
- vim
categories:
- vim教程
comments: false
permalink:
---

# vim 光标移动

1. 只会上下左右和插入（`h`, `j`, `k`, `l`, `i`）。所有操作都由这 5 个键来完成。
   1. 插入相关的 `i`, `a`, `A`
   2. `o`, `s-o`
2. 学会了单词移动和文件头尾（`w`, `b`, `^/0`, `$`, `gg`, `G`）(`e`, `ge`)。这时编辑起来不那么费力了，看起来还可以。
   1. 这一阶段持续了两年…这两年里我学会了正则查找和替换（`/xx`, `%s/xx/xx/g`）。
3. 按屏幕移动光标（`H`, `M`, `L`）, 能够熟练翻页(`c-f`, `c-b`)和滚屏（`zt`, `zz`, `zb`）、标识符间来回移动、
   1. 翻页也可以用 `c-d`, `c-u`
   2. `visual`模式下列编辑( `v`, `s-v`, `c-v` )
   3. 窗格间移动（`c-w hjkl`）。这是最近一年的水平，同时还学会了宏录制、等。
   4. 前后光标位置`c-o/i`
4. 下一阶段：熟悉段落与单词间跳转，熟悉数字的使用。比如对于 `func(args, count)`，我要记住从行首到第二个参数的快捷键是 `4w`。

## 字符移动

在 Vim 的`Normal`模式里（如果你在`Visual`模式或者`Insert`模式，可以按`<Esc>`回到`Normal`模式）， 通过`h, j, k, l`来进行左下上右的光标移动。

> 在 Vim 中多数操作都支持数字前缀，比如`10j`可以向下移动 10 行。

可以设置一些快捷键

```vim
" 滚动时上下留空4行, 这个会影响 H和L, 还是用滚动好了类似emacs的
set scrolloff=4
" 除了 c-d c-u外设置下
noremap <silent> K 5k
noremap <silent> J 5j
```

## 单词移动

多数情况下**单词**移动比字符移动更加高效。 `w`移动光标到下一个**单词的词首**，`b`移动光标到**上一个单词的词首**；`e`移动光标到下一个**单词的结尾**，`ge`移动光标到上一个单词的结尾。

> 单词移动同样支持数字前缀，比如`4w`可以向后移动 4 个单词。连续的标点符号算一个单词。

有趣的是，`W, B, E`具有同样的功能，只不过它是用**空格**来分隔单词的，可以跳地更远~

`^/0`到行首，`$`到行尾。

> 拷贝一行：`^y$`。

## 相对屏幕移动

通过`c-f`向下翻页，`c-b`向上翻页(用 `c-d` 和 `c-u` 代替)；`c-e`逐行下滚，`c-y`逐行上滚。

> 这在几乎所有 Unix 软件中都是好使的，比如`man`和`less`。
> `H`可以将鼠标焦点移动到屏幕的首行，`L`到屏幕尾行，`M`到屏幕中间。

`zt`可以置顶当前行，通常用来查看完整的下文，比如函数、类的定义。 `zz`将当前行移到屏幕中部，`zb`移到底部。

## 文件中移动

通过`:10`可以直接移动光标到文件第 10 行。如果你看不到行号，可以`:set number`。 `gg`移到文件首行，`G`移到尾行。

> 拷贝整个文件：`ggyG`。

`/xx`可以查找某个单词 xx，`n`查找下一个，`N`查找上一个。 在光标跳转之后，可以通过`c-o`返回上一个光标位置，`c-i`跳到下一个光标位置。

`?xx`可以反向查找，`q/`, `q?`可以列出查找历史。

## visual 可视模式下移动光标

进入可视模式使用 `v`, `V`, `<c-v>`, `gv`. 分别是开始选择, 行选择, 块选择,以及 **选中上次选择的区域**

> 比较难注意到的功能是 `gb`
> 使用 `o` 还能用来在选中区域首尾跳转
> 使用 `%` 是在扩号间跳转

## buffer 间, tab 间, 窗口间

{% post_link vim窗口 vim窗口 %}
{% post_link vim标签页 vim标签页 %}
{% post_link vim缓冲区 vim缓冲区 %}

## 参考

[Vim 中如何快速进行光标移动？666](https://harttle.land/2015/11/07/vim-cursor.html)
