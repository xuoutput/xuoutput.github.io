<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.1" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.1" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.0.1',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>




  
  <meta name="keywords" content="Hexo, NexT">


<meta name="description" content="this is description">
<meta property="og:type" content="website">
<meta property="og:title" content="Little H title">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="Little H title">
<meta property="og:description" content="this is description">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Little H title">
<meta name="twitter:description" content="this is description">






  <link rel="canonical" href="http://yoursite.com/page/5/">


  <title>Little H title</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Little H title</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">this is subtitle</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>公益404</a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/25/webpack简单入门/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/25/webpack简单入门/" itemprop="url">webpack简单入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-25T19:59:21+08:00">2019-04-25</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/前端教程/" itemprop="url" rel="index"><span itemprop="name">前端教程</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="webpack-简单入门"><a href="#webpack-简单入门" class="headerlink" title="webpack 简单入门"></a>webpack 简单入门</h1><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>见到启动 webpack 后输出的信息, 这是啥?</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ℹ ｢wds｣: Project is running at http://localhost:8080/</span><br><span class="line">ℹ ｢wds｣: webpack output is served from /</span><br><span class="line">ℹ ｢wds｣: Content not from webpack is served from ./src</span><br><span class="line">ℹ ｢atl｣: Using typescript@3.4.5 from typescript</span><br><span class="line">ℹ ｢atl｣: Using tsconfig.json from /Users/xuheng/qiniu/work/annotation-sys/tsconfig.json</span><br><span class="line">ℹ ｢atl｣: Checking started <span class="keyword">in</span> a separate process...</span><br><span class="line">ℹ ｢atl｣: Time: 2979ms</span><br><span class="line">ℹ ｢wdm｣: Hash: d3a23643aefb00fc4a9b</span><br></pre></td></tr></table></figure>
<p>其实都是使用依赖的简写, 如 wds 就是<code>webpack-dev-server</code>. atl 就是<code>awesome-typescript-loader</code>, wdm 是<code>webpack-dev-middleware</code></p>
<p>Hot Module Replacement（HMR), 最方便的方法就使用 wds 咯</p>
<ul>
<li>在 webpack 配置文件中添加 HMR 插件；</li>
<li>在 Webpack Dev Server 中添加“hot”参数；</li>
</ul>
<h2 id="postcss"><a href="#postcss" class="headerlink" title="postcss"></a>postcss</h2><p><a href="https://www.jianshu.com/p/71b8f1caef4e" target="_blank" rel="noopener">在webpack项目中配置postcss，实现autoprefix</a></p>
<h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h2><p>关于 less-loader, 要装 less 的<br><a href="https://stackoverflow.com/questions/36781031/webpack-error-in-cannot-find-module-less" target="_blank" rel="noopener">webpack error in Cannot find module ‘less’</a></p>
<p><a href="https://github.com/webpack-contrib/less-loader" target="_blank" rel="noopener">less-loader</a></p>
<blockquote>
<p>也说了 The less-loader requires less as peerDependency. Thus you are able to control the versions accurately.</p>
</blockquote>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://webpack.wuhaolin.cn/" target="_blank" rel="noopener">深入浅出 Webpack</a><br><a href="https://segmentfault.com/a/1190000006178770" target="_blank" rel="noopener">入门 Webpack，看这篇就够了</a><br><a href="https://www.jianshu.com/p/76966243f27f" target="_blank" rel="noopener">Node 的 path.resolve(__dirname，’./src’)</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/25/tsconfig-json配置解析/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/25/tsconfig-json配置解析/" itemprop="url">tsconfig.json配置解析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-25T10:41:22+08:00">2019-04-25</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="tsconfig-json-配置解析"><a href="#tsconfig-json-配置解析" class="headerlink" title="tsconfig.json 配置解析"></a>tsconfig.json 配置解析</h1><ul>
<li>指定待编译的文件</li>
<li>定义编译选项</li>
</ul>
<p>安装外typescript后用<code>tsc --init</code>就可以生成, 也可以自己创咯</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>如果一个目录下存在一个<code>tsconfig.json</code>文件，那么它意味着这个目录是 TypeScript 项目的<strong>根目录</strong>。 <code>tsconfig.json</code>文件中指定了用来<strong>编译这个项目的根文件和编译选项</strong>。</p>
<p>一个项目可以通过以下方式之一来编译：<br>使用<code>tsconfig.json</code>(<strong>推荐</strong>)</p>
<ul>
<li>不带任何输入文件的情况下调用<code>tsc</code>，编译器会从<strong>当前目录开始</strong>去查找<code>tsconfig.json</code>文件，<strong>逐级向上搜索父目录</strong>。(<strong>常用</strong>)</li>
<li>不带任何输入文件的情况下调用<code>tsc</code>，且使用命令行参数—project（或-p）<strong>指定一个包含</strong><code>tsconfig.json</code>文件的目录。(不常用)</li>
</ul>
<p>当命令行上指定了输入文件时，<code>tsconfig.json</code>文件会被忽略。(不建议)</p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p><code>tsconfig.json</code>示例文件:</p>
<p>使用<code>&quot;files&quot;</code>属性 (不建议)</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"module"</span>: <span class="string">"commonjs"</span>,</span><br><span class="line">    <span class="attr">"noImplicitAny"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"removeComments"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"preserveConstEnums"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"sourceMap"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"files"</span>: [</span><br><span class="line">    <span class="string">"core.ts"</span>,</span><br><span class="line">    <span class="string">"sys.ts"</span>,</span><br><span class="line">    <span class="string">"types.ts"</span>,</span><br><span class="line">    <span class="string">"scanner.ts"</span>,</span><br><span class="line">    <span class="string">"parser.ts"</span>,</span><br><span class="line">    <span class="string">"utilities.ts"</span>,</span><br><span class="line">    <span class="string">"binder.ts"</span>,</span><br><span class="line">    <span class="string">"checker.ts"</span>,</span><br><span class="line">    <span class="string">"emitter.ts"</span>,</span><br><span class="line">    <span class="string">"program.ts"</span>,</span><br><span class="line">    <span class="string">"commandLineParser.ts"</span>,</span><br><span class="line">    <span class="string">"tsc.ts"</span>,</span><br><span class="line">    <span class="string">"diagnosticInformationMap.generated.ts"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用<code>&quot;include&quot;</code>和<code>&quot;exclude&quot;</code>属性 (<strong>推荐</strong>)</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"module"</span>: <span class="string">"system"</span>,</span><br><span class="line">    <span class="attr">"noImplicitAny"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"removeComments"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"preserveConstEnums"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"outFile"</span>: <span class="string">"../../built/local/tsc.js"</span>,</span><br><span class="line">    <span class="attr">"sourceMap"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"include"</span>: [<span class="string">"src/**/*"</span>],</span><br><span class="line">  <span class="attr">"exclude"</span>: [<span class="string">"node_modules"</span>, <span class="string">"**/*.spec.ts"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h2><p><code>&quot;compilerOptions&quot;</code>可以被忽略，这时编译器会使用默认值。在这里查看<a href="https://www.tslang.cn/docs/handbook/compiler-options.html" target="_blank" rel="noopener">完整的编译器选项列表</a>。</p>
<p><code>&quot;files&quot;</code>指定一个包含相对或绝对文件路径的列表。 <code>&quot;include&quot;</code>和<code>&quot;exclude&quot;</code>属性指定一个文件<code>glob</code>匹配模式列表。 支持的<code>glob</code>通配符有：</p>
<ul>
<li><code>*</code> 匹配 0 或多个字符（不包括目录分隔符）</li>
<li><code>?</code> 匹配一个任意字符（不包括目录分隔符）</li>
<li><code>**/</code> 递归匹配任意子目录</li>
</ul>
<p>如果一个<code>glob</code>模式里的某部分只包含<code>*或.*</code>，那么仅有支持的<strong>文件扩展名类型</strong>被包含在内（比如默认<code>.ts</code>，<code>.tsx</code>，和<code>.d.ts</code>， 如果 <code>allowJs</code>设置能<code>true</code>还包含<code>.js</code>和<code>.jsx</code>）。</p>
<ol>
<li><p>如果<code>&quot;files&quot;</code>和<code>&quot;include&quot;</code><strong>都没有被指定</strong>，编译器<strong>默认包含当前目录和子目录下所有的<code>TypeScript</code>文件</strong>（<code>.ts</code>, <code>.d.ts</code> 和 <code>.tsx</code>），排除在<code>&quot;exclude&quot;</code>里指定的文件。<br><code>JS</code>文件（<code>.js</code>和<code>.jsx</code>）也被包含进来如果<code>allowJs</code>被设置成<code>true</code>。</p>
</li>
<li><p>如果指定了 <code>&quot;files&quot;</code>或<code>&quot;include&quot;</code>，编译器会将它们结合一并包含进来。<br>使用 <code>&quot;outDir&quot;</code><strong>指定的目录下的文件永远会被编译器排除</strong>，除非你明确地使用<code>&quot;files&quot;</code>将其包含进来（就算你没用<code>exclude</code>也会被排除出去）。</p>
</li>
<li><p>使用<code>&quot;include&quot;</code>引入的文件可以使用<code>&quot;exclude&quot;</code><strong>属性过滤</strong>。 然而，通过 <code>&quot;files&quot;</code>属性明确指定的文件却<strong>总是会被包含在内</strong>，不管<code>&quot;exclude&quot;</code>如何设置。 如果没有特殊指定， <code>&quot;exclude&quot;</code><strong>默认情况下会排除</strong><code>node_modules</code>，<code>bower_components</code>，<code>jspm_packages</code>和<code>&lt;outDir&gt;</code>目录。</p>
</li>
<li><p>任何被<code>&quot;files&quot;</code>或<code>&quot;include&quot;</code>指定的文件所引用的文件也会被包含进来。 <code>A.ts</code>引用了<code>B.ts</code>，因此<code>B.ts</code>不能被排除，除非引用它的<code>A.ts</code>在<code>&quot;exclude&quot;</code>列表中。</p>
</li>
</ol>
<p><strong>需要注意编译器不会去引入那些可能做为输出的文件</strong>；比如，假设我们包含了<code>index.ts</code>，那么<code>index.d.ts</code>和<code>index.js</code>会被排除在外。 通常来讲，<strong>不推荐只有扩展名的不同来区分同目录下的文件</strong>。</p>
<p><code>tsconfig.json</code>文件可以是个空文件，那么所有默认的文件（如上面所述）都<strong>会以默认配置选项编译</strong>。</p>
<p><strong>在命令行上</strong>指定的编译选项会覆盖在<code>tsconfig.json</code>文件里的相应选项。</p>
<h3 id="file-include-exclude-outDir总结"><a href="#file-include-exclude-outDir总结" class="headerlink" title="file, include, exclude, outDir总结"></a>file, include, exclude, outDir总结</h3><ol>
<li>没有file和include, 默认包含当前tsconfig.json目录下和子目录下素有的(.ts, tsx, .d.ts)文件</li>
<li>file是一定不会被排除的, include的可以用exclude的排除掉一部分. outDir这个输出文件也会被排除,(按编译器不会去引入那些可能做为输出的文件)</li>
<li>被file和include引用的文件的文件也会被包进来</li>
</ol>
<blockquote>
<p>即file和outDir都会包含和不包含, include和exclude来设置下</p>
</blockquote>
<h2 id="types，typeRoots和types"><a href="#types，typeRoots和types" class="headerlink" title="@types，typeRoots和types"></a><code>@types</code>，<code>typeRoots</code>和<code>types</code></h2><p><strong>默认</strong>所有可见的<code>&quot;@types&quot;</code>包会在编译过程中被包含进来。 <code>node_modules/@types</code>文件夹下以及它们子文件夹下的所有包都<strong>是可见的</strong>； 也就是说， <code>./node_modules/@types/</code>，<code>../node_modules/@types/</code>和<code>../../node_modules/@types/</code>等等。</p>
<p>如果指定了<code>typeRoots</code>，只有<code>typeRoots</code>下面的包才会被包含进来。 比如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"typeRoots"</span>: [<span class="string">"./typings"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个配置文件会包含所有<code>./typings</code>下面的包，而不包含<code>./node_modules/@types</code>里面的包。(但我们不推荐用<code>typings</code>了)</p>
<p>如果指定了<code>types</code>，只有被列出来的包才会被包含进来。 比如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"types"</span>: [<span class="string">"node"</span>, <span class="string">"lodash"</span>, <span class="string">"express"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个<code>tsconfig.json</code>文件将<strong>仅会包含</strong> <code>./node_modules/@types/node</code>，<code>./node_modules/@types/lodash</code>和<code>./node_modules/@types/express</code>。<br><code>/@types/</code>。 <code>node_modules/@types/*</code>里面的其它包<strong>不会被引入进来</strong>。</p>
<p>指定<code>&quot;types&quot;: []</code>来<strong>禁用</strong>自动引入<code>@types</code>包。</p>
<p>注意，自动引入只在你使用了全局的声明（相反于模块）时是重要的。 如果你使用 <code>import &quot;foo&quot;</code>语句，<code>TypeScript</code>仍然会查找<code>node_modules</code>和<code>node_modules/@types</code>文件夹来获取<code>foo</code>包。</p>
<h2 id="使用-extends-继承配置-不常用"><a href="#使用-extends-继承配置-不常用" class="headerlink" title="使用 extends 继承配置 (不常用)"></a>使用 extends 继承配置 (不常用)</h2><p><code>tsconfig.json</code>文件可以利用<code>extends</code>属性<strong>从另一个配置文件里继承配置</strong>。</p>
<p><code>extends</code>是<code>tsconfig.json</code>文件里的顶级属性（与<code>compilerOptions</code>，<code>files</code>，<code>include</code>，和<code>exclude</code>一样）。 <code>extends</code>的值是一个字符串，包含指向另一个要继承文件的路径。</p>
<p><strong>在原文件里的配置先被加载，然后被来至继承文件里的配置重写</strong>。 如果发现循环引用，则会报错。</p>
<p>来至所继承配置文件的<code>files</code>，<code>include</code>和<code>exclude</code><strong>覆盖</strong>源配置文件的属性。</p>
<p>配置文件里的相对路径在解析时相对于它所在的文件。</p>
<p>比如：</p>
<p>configs/base.json：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"noImplicitAny"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"strictNullChecks"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>tsconfig.json：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"extends"</span>: <span class="string">"./configs/base"</span>,</span><br><span class="line">  <span class="attr">"files"</span>: [<span class="string">"main.ts"</span>, <span class="string">"supplemental.ts"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>tsconfig.nostrictnull.json：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"extends"</span>: <span class="string">"./tsconfig"</span>,</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"strictNullChecks"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="compileOnSave-直接-false-吧"><a href="#compileOnSave-直接-false-吧" class="headerlink" title="compileOnSave (直接 false 吧)"></a>compileOnSave (直接 false 吧)</h2><p>在最顶层设置<code>compileOnSave</code>标记，可以让<code>IDE</code>在保存文件的时候根据<code>tsconfig.json</code>重新生成文件。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compileOnSave"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"noImplicitAny"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>要想支持这个特性需要 Visual Studio 2015， TypeScript1.8.4 以上并且安装 atom-typescript 插件。</p>
<h2 id="给一个简单常用的配置"><a href="#给一个简单常用的配置" class="headerlink" title="给一个简单常用的配置"></a>给一个简单常用的配置</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compileOnSave"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"target"</span>: <span class="string">"es5"</span>,</span><br><span class="line">    <span class="attr">"module"</span>: <span class="string">"commonjs"</span>,</span><br><span class="line">    <span class="attr">"allowSyntheticDefaultImports"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"emitDecoratorMetadata"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"sourceMap"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"strictNullChecks"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"baseUrl"</span>: <span class="string">"./src"</span>,</span><br><span class="line">    <span class="attr">"lib"</span>: [<span class="string">"es2015"</span>, <span class="string">"dom"</span>],</span><br><span class="line">    <span class="attr">"jsx"</span>: <span class="string">"react"</span>,</span><br><span class="line">    <span class="attr">"outDir"</span>: <span class="string">".tmp"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"include"</span>: [<span class="string">"src/**/*"</span>],</span><br><span class="line">  <span class="attr">"exclude"</span>: [<span class="string">"node_modules"</span>, <span class="string">"bower_components"</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.tslang.cn/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener">tsconfig.json</a><br><a href="https://juejin.im/post/5ac7fd1e51882555784e3575" target="_blank" rel="noopener">tsconfig.json 整理记录</a><br><a href="https://www.tslang.cn/docs/handbook/compiler-options.html" target="_blank" rel="noopener">完整的编译器选项列表</a><br><a href="https://segmentfault.com/a/1190000013514680" target="_blank" rel="noopener">理解 Typescript 配置文件</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/22/http-2简介/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/22/http-2简介/" itemprop="url">http/2简介</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-22T10:26:20+08:00">2019-04-22</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="http-2简介"><a href="#http-2简介" class="headerlink" title="http/2简介"></a>http/2简介</h1><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://zhuanlan.zhihu.com/p/29609078" target="_blank" rel="noopener">怎样把网站升级到http/2</a><br><a href="https://my.oschina.net/editorial-story/blog/3031721?from=20190414" target="_blank" rel="noopener">HTTP/3 竟然基于 UDP，HTTP 协议这些年都经历了啥？</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/11/mysql的timestamp和datetime区别/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/11/mysql的timestamp和datetime区别/" itemprop="url">mysql的timestamp和datetime区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-11T16:48:00+08:00">2019-04-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="mysql-的-timestamp-和-datetime-区别"><a href="#mysql-的-timestamp-和-datetime-区别" class="headerlink" title="mysql 的 timestamp 和 datetime 区别"></a>mysql 的 timestamp 和 datetime 区别</h1><p>首先 DATETIM 和 TIMESTAMP 类型所占的<strong>存储空间</strong>不同，前者 8 个字节，后者 4 个字节，这样造成的后果是两者能表示的<strong>时间范围不同</strong>。前者范围为 1000-01-01 00:00:00 ~ 9999-12-31 23:59:59，后者范围为 1970-01-01 08:00:01 到 2038-01-19 11:14:07。所以可以看到 TIMESTAMP 支持的范围比 DATATIME 要小,容易出现超出的情况.</p>
<p>其次: TIMESTAMP 类型在默认情况下，insert、update 数据时，TIMESTAMP 列会自动以当前时间（CURRENT_TIMESTAMP）填充/更新。</p>
<p>第三: <strong>最主要的区别-受时区影响不同</strong>TIMESTAMP 比较受时区 timezone 的影响以及 MYSQL 版本和服务器的 SQL MODE 的影响, </p>
<blockquote>
<p>详细可以阅读这篇博客的演示：<a href="https://www.tech-recipes.com/rx/22599/mysql-datetime-vs-timestamp-data-type/" target="_blank" rel="noopener">MySQL: Datetime Versus Timestamp Data Types</a><br>一个timestamp字段，一个datetime字段，修改时区SET TIME_ZONE = “america/new_york”;后，timestamp字段的值变了!<br>因此，如果应用场景有跨时区要求的要特别注意这点。</p>
</blockquote>
<p>第四: 索引速度<br>不同。timestamp 更轻量，索引相对 datetime 更快。</p>
<p>所以一般来说，我比较倾向选择 DATETIME，至于你说到索引的问题，选择 DATETIME 作为索引，如果碰到大量数据查询慢的情况，也可以分区表解决。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://segmentfault.com/q/1010000000121702" target="_blank" rel="noopener">Mysql 时间字段格式如何选择，TIMESTAMP，DATETIME，INT？</a><br><a href="https://zhuanlan.zhihu.com/p/23663741" target="_blank" rel="noopener">MySQL date、datetime 和 timestamp 类型的区别</a><br><a href="https://www.tech-recipes.com/rx/22599/mysql-datetime-vs-timestamp-data-type/" target="_blank" rel="noopener">MySQL: Datetime Versus Timestamp Data Types</a><br><a href="https://blog.csdn.net/u012516166/article/details/79094560" target="_blank" rel="noopener">TIMESTAMP和DATETIME相同和区别</a><br><a href="https://blog.csdn.net/wangjun5159/article/details/48010563" target="_blank" rel="noopener">mysql datetime与timestamp区别</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/11/mysql的ENGINE-InnoDB/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/11/mysql的ENGINE-InnoDB/" itemprop="url">mysql的ENGINE=InnoDB</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-11T16:38:10+08:00">2019-04-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="mysql-的-ENGINE-InnoDB"><a href="#mysql-的-ENGINE-InnoDB" class="headerlink" title="mysql 的 ENGINE=InnoDB"></a>mysql 的 ENGINE=InnoDB</h1><p>最开始用 MySQL Administrator 建数据库的时候，表缺省是 <code>InnoDB</code> 类型，也就没有在意。后来用 Access2MySQL 导数据的时候发现只能导成 <code>MyISAM</code> 类型的表，不知道这两种类型有什么区别，就去查了查。<br>原来是 <code>MyISAM</code> 类型不支持事务处理等高级处理，而 <code>InnoDB</code> 类型支持。 <code>MyISAM</code> 类型的表强调的是性能，其执行数度比 <code>InnoDB</code> 类型更快，但是不提供事务支持，而 <code>InnoDB</code> 提供事务支持已经外部键等高级数据库功能。这样就可以根据数据表不同的用处是用不同的存储类型。<br>另外，MyISAM 类型的二进制数据文件可以在不同操作系统中迁移。也就是可以直接从 Windows 系统拷贝到 linux 系统中使用。</p>
<h2 id="AUTO-INCREMENT-22"><a href="#AUTO-INCREMENT-22" class="headerlink" title="AUTO_INCREMENT=22"></a>AUTO_INCREMENT=22</h2><p>这个是自增的，在这里设置数字的意思是想要让这条语句在增长的时候，从22开始自增。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.waitig.com/mysql%E4%B8%ADengineinnodb%E5%92%8Cenginemyisam%E7%9A%84%E5%8C%BA%E5%88%AB.html" target="_blank" rel="noopener">mysql 中 engine=innodb 和 engine=myisam 的区别</a><br><a href="https://blog.csdn.net/feng88724/article/details/6829416" target="_blank" rel="noopener">mysql 中 engine=innodb 和 engine=myisam 的区别</a><br><a href="https://blog.csdn.net/yuxinha11/article/details/80090197" target="_blank" rel="noopener">MySQL中ENGINE=InnoDB、AUTO_INCREMENT的意思</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/11/mysql创建表的时候COLLATE干嘛的/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/11/mysql创建表的时候COLLATE干嘛的/" itemprop="url">mysql创建表的时候COLLATE干嘛的</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-11T16:02:00+08:00">2019-04-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="mysql-创建表的时候-COLLATE-干嘛的"><a href="#mysql-创建表的时候-COLLATE-干嘛的" class="headerlink" title="mysql 创建表的时候 COLLATE 干嘛的"></a>mysql 创建表的时候 COLLATE 干嘛的</h1><p>在 mysql 中执行<code>show create table &lt;tablename&gt;</code>指令，可以看到一张表的建表语句，example 如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name(</span><br><span class="line">     column_name_1 data_type <span class="keyword">default</span> <span class="keyword">value</span> column_constraint,</span><br><span class="line">     column_name_2 data_type <span class="keyword">default</span> <span class="keyword">value</span> column_constraint,</span><br><span class="line">     ...,</span><br><span class="line">     table_constraint</span><br><span class="line">)   <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span></span><br><span class="line">    <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8mb4</span><br><span class="line">    <span class="keyword">COLLATE</span>=utf8_unicode_ci;</span><br></pre></td></tr></table></figure>
<p>复制代码大部分字段我们都能看懂，但是今天要讨论的是 <code>COLLATE</code> 关键字。这个值后面对应的 <code>utf8_unicode_ci</code> 是什么意思呢？面试的时候用这个题目考一考 DBA，应该可以难倒一大部分人。</p>
<h2 id="COLLATE-是用来做什么的？"><a href="#COLLATE-是用来做什么的？" class="headerlink" title="COLLATE 是用来做什么的？"></a>COLLATE 是用来做什么的？</h2><p>使用<code>phpmyadmin</code>的开发可能会非常眼熟，因为其中的中文表头已经给出了答案：</p>
<p><img src="phpmyadmin.png" alt="phpmyadmin.png"></p>
<p>所谓 <code>utf8_unicode_ci</code>，其实是用来排序的规则。对于 <code>mysql</code> 中那些字符类型的列，如 <code>VARCHAR</code>，<code>CHAR</code>，<code>TEXT</code> 类型的列，都需要有一个 <code>COLLATE</code> 类型来告知 <code>mysql</code> <strong>如何对该列进行排序和比较</strong>。<br>简而言之，<code>COLLATE</code> 会影响到 <code>ORDER BY</code> 语句的顺序，会影响到 <code>WHERE</code> 条件中大于小于号筛选出来的结果，会影响<strong>DISTINCT</strong>、<strong>GROUP BY</strong>、<strong>HAVING</strong>语句的查询结果。另外，mysql 建索引的时候，如果索引列是字符类型，<strong>也会影响索引创建</strong>，只不过这种影响我们感知不到。<strong>总之，凡是涉及到字符类型比较或排序的地方</strong>，都会和 COLLATE 有关。</p>
<h2 id="各种-COLLATE-的区别"><a href="#各种-COLLATE-的区别" class="headerlink" title="各种 COLLATE 的区别"></a>各种 COLLATE 的区别</h2><p><code>COLLATE</code>通常是和数据编码（<code>CHARSET</code>）相关的，一般来说每种<code>CHARSET</code>都有多种它所支持的<code>COLLATE</code>，并且每种<code>CHARSET</code>都指定一种<code>COLLATE</code>为默认值。例如<code>Latin1</code>编码的默认<code>COLLATE</code>为<code>latin1_swedish_ci</code>，<code>GBK</code>编码的默认<code>COLLATE</code>为<code>gbk_chinese_ci</code>，<code>utf8mb4</code>编码的默认值为<code>utf8mb4_general_ci</code>。</p>
<p>这里顺便讲个题外话，<code>mysql</code>中有<code>utf8</code>和<code>utf8mb4</code>两种编码，在 mysql 中请大家忘记<strong>utf8</strong>，永远使用<strong>utf8mb4</strong>。这是 mysql 的一个遗留问题，mysql 中的 utf8 最多只能支持 3bytes 长度的字符编码，对于一些需要占据<strong>4bytes</strong>的文字，mysql 的 utf8 就不支持了，要使用 utf8mb4 才行。</p>
<p>很多<code>COLLATE</code>都带有<code>_ci</code>字样，这是<code>Case Insensitive</code>的缩写，<strong>即大小写无关</strong>，也就是说”A”和”a”在排序和比较的时候是一视同仁的。<code>selection * from table1 where field1=&quot;a&quot;</code>同样可以把<strong>field1 为”A”</strong>的值选出来。与此同时，对于那些<code>_cs</code>后缀的<code>COLLATE</code>，则是<code>Case Sensitive</code>，<strong>即大小写敏感的</strong>。</p>
<p>在 mysql 中使用<code>show collation</code>指令可以查看到 mysql 所支持的所有<code>COLLATE</code>。以 utf8mb4 为例，该编码所支持的所有<code>COLLATE</code>如下图所示。</p>
<p><img src="utf8mb4.png" alt="utf8mb4.png"></p>
<p>mysql 中和 utf8mb4 相关的所有 COLLATE</p>
<p>图中我们能看到很多国家的语言自己的排序规则。在国内比较常用的是<code>utf8mb4_general_ci</code>（默认）、<code>utf8mb4_unicode_ci</code>、<code>utf8mb4_bin</code>这三个。我们来探究一下这三个的区别：</p>
<p>首先<code>utf8mb4_bin</code>的比较方法其实就是<strong>直接将所有字符看作二进制串，然后从最高位往最低位比对。所以很显然它是区分大小写的</strong>。<br>而<code>utf8mb4_unicode_ci</code>和<code>utf8mb4_general_ci</code>对于中文和英文来说，其实是没有任何区别的。对于我们开发的国内使用的系统来说，随便选哪个都行。只是对于某些西方国家的字母来说，<code>utf8mb4_unicode_ci</code>会比<code>utf8mb4_general_ci</code>更符合他们的语言习惯一些.<br>general 是 mysql 一个比较老的标准了。例如，德语字母“ß”，在<code>utf8mb4_unicode_ci</code>中是等价于”ss”两个字母的（这是符合德国人习惯的做法），而在<code>utf8mb4_general_ci</code>中，它却和字母“s”等价。不过，这两种编码的那些微小的区别，对于正常的开发来说，很难感知到。本身我们也很少直接用文字字段去排序，退一步说，即使这个字母排错了一两个，真的能给系统带来灾难性后果么？从网上找的各种帖子讨论来说，更多人推荐使用<code>utf8mb4_unicode_ci</code>，但是对于使用了默认值的系统，也并没有非常排斥，并不认为有什么大问题。</p>
<p>结论：推荐使用<code>utf8mb4_unicode_ci</code>，对于已经用了<code>utf8mb4_general_ci</code>的系统，也没有必要花时间改造。</p>
<p>另外需要注意的一点是，从<code>mysql 8.0</code>开始，mysql 默认的<code>CHARSET</code>已经不再是 Latin1 了，改为了<code>utf8mb4</code><a href="https://dev.mysql.com/doc/refman/8.0/en/charset-applications.html" target="_blank" rel="noopener">参考链接 10.5 Configuring Application Character Set and Collation</a>，并且默认的<code>COLLATE</code>也改为了<code>utf8mb4_0900_ai_ci</code>。<code>utf8mb4_0900_ai_ci</code>大体上就是<code>unicode</code>的<strong>进一步细分</strong>，0900 指代 unicode 比较算法的编号（ Unicode Collation Algorithm version），ai 表示 accent insensitive（发音无关），例如 e, è, é, ê 和 ë 是一视同仁的。</p>
<p><a href="https://www.monolune.com/what-is-the-utf8mb4_0900_ai_ci-collation/" target="_blank" rel="noopener">What is the utf8mb4_0900_ai_ci Collation?</a><br><a href="https://dev.mysql.com/doc/refman/8.0/en/charset-collation-names.html" target="_blank" rel="noopener">10.3.1 Collation Naming Conventions</a></p>
<h2 id="COLLATE-设置级别及其优先级"><a href="#COLLATE-设置级别及其优先级" class="headerlink" title="COLLATE 设置级别及其优先级"></a>COLLATE 设置级别及其优先级</h2><p>设置<code>COLLATE</code>可以在<strong>实例级别</strong>、<strong>库级别</strong>、<strong>表级别</strong>、<strong>列级别</strong>、以及<strong>SQL 指定</strong>。</p>
<p><strong>实例级别</strong>的<code>COLLATE</code>设置就是 mysql 配置文件或启动指令中的<code>collation_connection</code>系统变量。</p>
<p><strong>库级别</strong>设置<code>COLLATE</code>的语句如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> &lt;db_name&gt; <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci;</span><br></pre></td></tr></table></figure>
<p>如果<strong>库级别</strong>没有设置<code>CHARSET</code>和<code>COLLATE</code>，则<strong>库级别</strong>默认的<code>CHARSET</code>和<code>COLLATE</code>使用实例级别的设置。在 mysql8.0 以下版本中，你如果什么都不修改，默认的<code>CHARSET</code>是<code>Latin1</code>，默认的<code>COLLATE</code>是<code>latin1_swedish_ci</code>。从 mysql8.0 开始，默认的<code>CHARSET</code>已经改为了<code>utf8mb4</code>，默认的<code>COLLATE</code>改为了<code>utf8mb4_0900_ai_ci</code>。</p>
<p><strong>表级别</strong>的<code>COLLATE</code>设置，则是在<code>CREATE TABLE</code>的时候加上相关设置语句，例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> (</span><br><span class="line">……</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span></span><br><span class="line"><span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8mb4</span><br><span class="line"><span class="keyword">COLLATE</span>=utf8mb4_unicode_ci</span><br><span class="line"><span class="keyword">COMMENT</span> =<span class="string">'XX表'</span>;</span><br></pre></td></tr></table></figure>
<p>复制代码如果表级别没有设置 CHARSET 和 COLLATE，则表级别会继承库级别的 CHARSET 与 COLLATE。</p>
<p><strong>列级别</strong>的设置，则也在在<code>CREATE TABLE</code>中声明列的时候指定，例如</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> (</span><br><span class="line"></span><br><span class="line"><span class="string">`field1`</span> <span class="built_in">VARCHAR</span>（<span class="number">64</span>） <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span>,</span><br><span class="line">……</span><br><span class="line">) ……</span><br></pre></td></tr></table></figure>
<p>复制代码如果列级别没有设置 CHARSET 和 COLATE，则列级别会继承表级别的 CHARSET 与 COLLATE。</p>
<p>最后，你也可以在<strong>写 SQL 查询</strong>的时候显示声明 COLLATE 来覆盖任何库表列的 COLLATE 设置，不太常用，了解即可：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> field1 <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">FROM</span> table1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> field1, field2 <span class="keyword">FROM</span> table1 <span class="keyword">ORDER</span> <span class="keyword">BY</span> field1 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci;</span><br></pre></td></tr></table></figure>
<p>如果全都显示设置了，那么<strong>优先级顺序是 SQL 语句 &gt; 列级别设置 &gt; 表级别设置 &gt; 库级别设置 &gt; 实例级别设置</strong>。也就是说列上所指定的 COLLATE 可以覆盖表上指定的 COLLATE，表上指定的 COLLATE 可以覆盖库级别的 COLLATE。如果没有指定，则继承下一级的设置。即列上面没有指定 COLLATE，则该列的 COLLATE 和表上设置的一样。<br>以上就是关于 mysql 的 COLLATE 相关知识。不过，在系统设计中，我们还是要尽量避免让系统严重依赖中文字段的排序结果，在 mysql 的查询中也应该尽量避免使用中文做查询条件。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://juejin.im/post/5bfe5cc36fb9a04a082161c2" target="_blank" rel="noopener">MYSQL 中的 COLLATE 是什么？</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/11/http3xx重定向状态码/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/11/http3xx重定向状态码/" itemprop="url">http3xx重定向状态码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-11T14:26:55+08:00">2019-04-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/网络/" itemprop="url" rel="index"><span itemprop="name">网络</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="http3xx-重定向状态码"><a href="#http3xx-重定向状态码" class="headerlink" title="http3xx 重定向状态码"></a>http3xx 重定向状态码</h1><p>简单说下 301/302/303/307/308 这 5 种状态码的情况</p>
<h2 id="状态码的解释"><a href="#状态码的解释" class="headerlink" title="状态码的解释"></a>状态码的解释</h2><h3 id="301-Moved-Permanently（永久移动）"><a href="#301-Moved-Permanently（永久移动）" class="headerlink" title="301 Moved Permanently（永久移动）"></a>301 Moved Permanently（永久移动）</h3><p>被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。<br>除非额外指定，否则这个响应也是<strong>可缓存</strong>的。新的永久性的 URI 应当在响应的<code>Location</code>域中返回。<br>除非这是一个 HEAD 请求，否则响应的实体中应当包含指向新的 URI 的超链接及简短说明。如果这不是一个 GET 或者 HEAD 请求，因此浏览器禁止自动进行重定向，除非得到用户的确认，因为请求的条件可能因此发生变化。</p>
<blockquote>
<p>注意：对于某些使用 HTTP/1.0 协议的浏览器，当它们发送的 POST 请求得到了一个 301 响应的话，接下来的重定向请求将会变成 GET 方式。</p>
</blockquote>
<h3 id="302-Found（发现）"><a href="#302-Found（发现）" class="headerlink" title="302 Found（发现）"></a>302 Found（发现）</h3><p>要求客户端执行临时重定向（原始描述短语为“<code>Moved Temporarily</code>”）。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。<br>只有在<code>Cache-Control</code>或<code>Expires</code>中进行了指定的情况下，这个响应才是可缓存的。新的临时性的 URI 应当在响应的<code>Location</code>域中返回。<br>除非这是一个 HEAD 请求，否则响应的实体中应当包含指向新的 URI 的超链接及简短说明。如果这不是一个 GET 或者 HEAD 请求，那么浏览器禁止自动进行重定向，除非得到用户的确认，因为请求的条件可能因此发生变化。</p>
<blockquote>
<p>注意：虽然 RFC 1945 和 RFC 2068 规范不允许客户端在重定向时改变请求的方法，但是很多现存的浏览器将 302 响应视作为 303 响应，并且使用 GET 方式访问在 Location 中规定的 URI，而无视原先请求的方法。因此状态码 303 和 307 被添加了进来，用以明确服务器期待客户端进行何种反应。</p>
</blockquote>
<h3 id="303-See-Other（查看其他）"><a href="#303-See-Other（查看其他）" class="headerlink" title="303 See Other（查看其他）"></a>303 See Other（查看其他）</h3><p>对应当前请求的响应可以在另一个 URI 上被找到，当响应于 POST（或 PUT / DELETE）接收到响应时，客户端应该假定服务器已经收到数据，并且应该使用单独的 GET 消息发出重定向。这个方法的存在主要是为了允许由脚本激活的 POST 请求输出重定向到一个新的资源。这个新的 URI 不是原始资源的替代引用。同时，303 响应禁止被缓存。当然，第二个请求（重定向）可能被缓存。新的 URI 应当在响应的 Location 域中返回。除非这是一个 HEAD 请求，否则响应的实体中应当包含指向新的 URI 的超链接及简短说明。注意：许多 HTTP/1.1 版以前的浏览器不能正确理解 303 状态。如果需要考虑与这些浏览器之间的互动，302 状态码应该可以胜任，因为大多数的浏览器处理 302 响应时的方式恰恰就是上述规范要求客户端处理 303 响应时应当做的。</p>
<h3 id="307-Temporary-Redirect（临时重定向）"><a href="#307-Temporary-Redirect（临时重定向）" class="headerlink" title="307 Temporary Redirect（临时重定向）"></a>307 Temporary Redirect（临时重定向）</h3><p>在这种情况下，请求应该与另一个 URI 重复，但后续的请求应仍使用原始的 URI。 <strong>与 302 相反，当重新发出原始请求时，不允许更改请求方法</strong>。 例如，应该使用另一个 POST 请求来重复 POST 请求</p>
<h3 id="308-Permanent-Redirect-（永久重定向）"><a href="#308-Permanent-Redirect-（永久重定向）" class="headerlink" title="308 Permanent Redirect （永久重定向）"></a>308 Permanent Redirect （永久重定向）</h3><p>请求和所有将来的请求应该使用另一个 URI 重复。 <strong>307 和 308 重复 302 和 301 的行为，但不允许 HTTP 方法更改</strong>。 例如，将表单提交给永久重定向的资源可能会顺利进行。</p>
<h2 id="301-302-303-307-308-的区别"><a href="#301-302-303-307-308-的区别" class="headerlink" title="301/302/303/307/308 的区别"></a>301/302/303/307/308 的区别</h2><p><strong>301，302 是 http1.0</strong>的内容，<strong>303、307、308 是 http1.1</strong>的内容。</p>
<p>301 和 302 本来<strong>在规范中是不允许重定向时改变请求方法的（将 POST 改为 GET）</strong>，但是许多浏览器却允许重定向时改变请求方法（这是一种不规范的实现）。</p>
<p>303 的出现正是为了给上面的 301，302 这种行为作出个规范（将错就错吧），也就是允许重定向时改变请求方法。此外 303 响应禁止被缓存。</p>
<p><strong>大多数的浏览器处理 302 响应时的方式恰恰就是上述规范要求客户端处理 303 响应时应当做的，所以 303 基本用的很少，一般用 302</strong>。</p>
<p>307 和 308 的出现也是给上面的行为做个规范，不过是不允许重定向时改变请求方法。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>Permanent</th>
<th>Temporary</th>
</tr>
</thead>
<tbody>
<tr>
<td>Allows changing the request method from POST to GET.</td>
<td>301</td>
<td>302</td>
</tr>
<tr>
<td>Does not allow changing the request method from POST to GET.</td>
<td>308</td>
<td>307</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>注：永久（Permanent）和临时（Temporary）的区别</p>
</blockquote>
<p>永久是指<strong>原来访问的资源已经永久删除啦</strong>，客户端应该根据新的 URI 访问重定向。</p>
<p>临时是指访问的<strong>资源可能暂时先用 location 的 URI 访问，但旧资源还在的</strong>，下次你再来访问的时候可能就不用重定向了。</p>
<p>故 301 与 302 的区别：</p>
<p>301 表示搜索引擎在抓取新内容的同时也将旧的网址交换为重定向之后的网址；302 表示旧地址 A 的资源还在（仍然可以访问），这个重定向只是临时地从旧地址 A 跳转到地址 B，搜索引擎会抓取新的内容而保存旧的网址。</p>
<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>因为 301 与 302 的区别，所以导致产生 302 网址劫持，故不建议使用 302 重定向（然而浏览器默认是使用 302 重定向）</p>
<p>302 重定向和网址劫持（URL hijacking）</p>
<p>从网址 A 做一个 302 重定向到网址 B 时，主机服务器的隐含意思是网址 A 随时有可能改主意，重新显示本身的内容或转向其他的地方。大部分的搜索引擎在大部分情况下，当收到 302 重定向时，一般只要去抓取目标网址就可以了，也就是说网址 B。如果搜索引擎在遇到 302 转向时，百分之百的都抓取目标网址 B 的话，就不用担心网址 URL 劫持了。问题就在于，有的时候搜索引擎，尤其是 Google，并不能总是抓取目标网址。比如说，有的时候 A 网址很短，但是它做了一个 302 重定向到 B 网址，而 B 网址是一个很长的乱七八糟的 URL 网址，甚至还有可能包含一些问号之类的参数。很自然的，A 网址更加用户友好，而 B 网址既难看，又不用户友好。这时 Google 很有可能会仍然显示网址 A。由于搜索引擎排名算法只是程序而不是人，在遇到 302 重定向的时候，并不能像人一样的去准确判定哪一个网址更适当，这就造成了网址 URL 劫持的可能性。也就是说，一个不道德的人在他自己的网址 A 做一个 302 重定向到你的网址 B，出于某种原因， Google 搜索结果所显示的仍然是网址 A，但是所用的网页内容却是你的网址 B 上的内容，这种情况就叫做网址 URL 劫持。你辛辛苦苦所写的内容就这样被别人偷走了。302 重定向所造成的网址 URL 劫持现象，已经存在一段时间了。不过到目前为止，似乎也没有什么更好的解决方法。在正在进行的谷歌大爸爸数据中心转换中，302 重定向问题也是要被解决的目标之一。从一些搜索结果来看，网址劫持现象有所改善，但是并没有完全解决。</p>
<h3 id="使用-301-的场景：（一般是资源位置永久更改）"><a href="#使用-301-的场景：（一般是资源位置永久更改）" class="headerlink" title="使用 301 的场景：（一般是资源位置永久更改）"></a>使用 301 的场景：（一般是资源位置永久更改）</h3><p>1.域名到期不想续费（或者发现了更适合网站的域名），想换个域名。</p>
<p>2.在搜索引擎的搜索结果中出现了不带 www 的域名，而带 www 的域名却没有收录，这个时候可以用 301 重定向来告诉搜索引擎我们目标的域名是哪一个。</p>
<p>3.空间服务器不稳定，换空间的时候。</p>
<p>注：另外，返回 301 请求码进行跳转被谷歌认为是将网站地址由 HTTP 迁移到 HTTPS 的最佳方法(然而大家都用 302。。。。)</p>
<h3 id="使用-302-的场景：（一般是普通的重定向需求：临时跳转）"><a href="#使用-302-的场景：（一般是普通的重定向需求：临时跳转）" class="headerlink" title="使用 302 的场景：（一般是普通的重定向需求：临时跳转）"></a>使用 302 的场景：（一般是普通的重定向需求：临时跳转）</h3><p>1.未登录前先使用 302 重定向到登录页面,登录成功后再跳回到原来请求的页面</p>
<p>举个例子，比如我未登录京东前我就访问京东的个人界面 <a href="https://home.jd.com/" target="_blank" rel="noopener">https://home.jd.com/</a> ,然后就会重定向到登录界面，我们可以通过浏览器的 dev-tool 查看状态码</p>
<p>我们可以发现响应的状态码为 302，并且返回了 location 为登录界面的 url，并且附带了 ReturnUrl 方便我们登录后跳回到 <a href="https://home.jd.com/" target="_blank" rel="noopener">https://home.jd.com/</a></p>
<p>2.有时候需要自动刷新页面，比如 5 秒后回到订单详细页面之类。</p>
<p>例子略。</p>
<p>3.有时系统进行升级或者切换某些功能时，需要临时更换地址。</p>
<p>例子略。</p>
<p>4.像微博之类的使用短域名，用户浏览后需要重定向到真实的地址之类。<br>再来个例子，我访问了另一个微博的秒拍视频链接：<a href="http://t.cn/RuOcwxn，然后重定向了两次，先是301重定向到video.weibo.com，再302重定向到miaopai.com。" target="_blank" rel="noopener">http://t.cn/RuOcwxn，然后重定向了两次，先是301重定向到video.weibo.com，再302重定向到miaopai.com。</a></p>
<p>5.电脑端与移动端的转换</p>
<p>比如我访问网页端页面<a href="https://www.taobao.com/，302重定向到了移动端页面m.taobao.com" target="_blank" rel="noopener">https://www.taobao.com/，302重定向到了移动端页面m.taobao.com</a></p>
<p>使用 303 的场景</p>
<p>几乎没有，一般就是用 302</p>
<h3 id="使用-307-的场景"><a href="#使用-307-的场景" class="headerlink" title="使用 307 的场景"></a>使用 307 的场景</h3><p>很少用，与 302 类似，只不过是针对 POST 方法的请求不允许更改方法</p>
<p>不过我在访问百度时，发现用了 307 状态码</p>
<h3 id="使用-308-的场景"><a href="#使用-308-的场景" class="headerlink" title="使用 308 的场景"></a>使用 308 的场景</h3><p>很少用，与 301 类似，只不过是针对 POST 方法的请求不允许更改方法</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.cnblogs.com/wuguanglin/p/redirect.html" target="_blank" rel="noopener">详解重定向（HTTP 状态码 301/302/303/307/308）附例子</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/08/在前端用JavaScript来实现下载/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/08/在前端用JavaScript来实现下载/" itemprop="url">在前端用JavaScript来实现下载</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-08T20:26:42+08:00">2019-04-08</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript教程/" itemprop="url" rel="index"><span itemprop="name">javascript教程</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="在前端用JavaScript来实现下载"><a href="#在前端用JavaScript来实现下载" class="headerlink" title="在前端用JavaScript来实现下载"></a>在前端用JavaScript来实现下载</h1><p>很多情况下我们都只能给出个链接，让用户点击打开-&gt;另存为。如下面这个链接：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">”file.js”</span>&gt;</span>file.js<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>用户点击这个链接的时候，浏览器会打开并显示链接指向的文件内容，显然，这并没有实现我们的需求。</p>
<p>幸好，HTML 5 里面为 <code>&lt;a&gt;</code> 标签添加了一个 <code>download</code> 的属性，我们可以轻易的利用它来实现下载功能。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://somehost/somefile.zip"</span> <span class="attr">download</span>=<span class="string">"filename.zip"</span>&gt;</span>Download file<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>只要为 <code>&lt;a&gt;</code> 标签添加 <code>download</code> 属性就行, 并且添加的属性值是下载的文件名.</p>
<p>在用javascript写的时候也是按这个思路</p>
<ul>
<li>用 JavaScript 创建一个隐藏的 <code>&lt;a&gt;</code> 标签</li>
<li>设置它的 href 属性</li>
<li>设置它的 download 属性</li>
<li>用 JavaScript 来触发这个它的 click 事件</li>
</ul>
<p>翻译成javascript代码就是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">window</span>.URL.createObjectURL(blob);</span><br><span class="line"><span class="keyword">var</span> filename = <span class="string">'what-you-want.csv'</span>;</span><br><span class="line">a.href = url;</span><br><span class="line">a.download = filename;</span><br><span class="line">a.click();</span><br><span class="line"><span class="built_in">window</span>.URL.revokeObjectURL(url);</span><br></pre></td></tr></table></figure>
<p>在设置属性的时候不用<code>setAttribute</code>可以看这个链接<a href="https://stackoverflow.com/questions/22151560/what-is-happening-behind-setattribute-vs-attribute" target="_blank" rel="noopener">What is happening behind .setAttribute vs .attribute=?</a></p>
<h2 id="DataURI"><a href="#DataURI" class="headerlink" title="DataURI"></a>DataURI</h2><p>这只是下载对应href中的文件, 或者说是在服务器端的文件, 如果是在前端的文件呢, <code>DataURI</code>来解决<br><a href="https://sjolzy.cn/What-is-the-data-URI-scheme-and-how-to-use-the-data-URI-scheme.html" target="_blank" rel="noopener">什么是data URI scheme及如何使用data URI scheme</a></p>
<p>这种取得资料的方法称为 <code>http URI scheme</code>, 同样的效果使用 <code>data URI scheme</code></p>
<blockquote>
<p>简单说就是这种方式会把所有的数据都存在href中, 而不会去请求服务器.</p>
</blockquote>
<h2 id="URL-createObjectURL"><a href="#URL-createObjectURL" class="headerlink" title="URL.createObjectURL()"></a>URL.createObjectURL()</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener">URL.createObjectURL()</a></p>
<p>window.URL 里面有两个方法：</p>
<ul>
<li><code>createObjectURL</code> 用 blob 对象来创建一个 object URL(它是一个 DOMString)，我们可以用这个 object URL 来表示某个 blob 对象，这个 object URL 可以用在 href 和 src 之类的属性上。</li>
<li><code>revokeObjectURL</code> 释放由 createObjectURL 创建的 object URL，当该 object URL 不需要的时候，我们要主动调用这个方法来获取最佳性能和内存使用。</li>
</ul>
<p>知道了这两个方法之后，我们再回去看看上面的例子就很容易理解了吧！只是用 blob 对象来创建一条 URL，然后让 <code>&lt;a&gt;</code> 标签引用该 URL，然后触发个点击事件，就可以下载文件了！</p>
<h2 id="Blob-对象"><a href="#Blob-对象" class="headerlink" title="Blob 对象"></a>Blob 对象</h2><p>Blob 全称是 Binary large object，它表示一个类文件对象，可以用它来表示一个文件。根据 MDN 上面的说法，File API 也是基于 blob 来实现的。</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob" target="_blank" rel="noopener">Blob</a></p>
<p>这里使用 <code>Blob() 构造函数</code> 允许用其它对象创建 Blob 对象。比如，用字符串构建一个 blob：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> debug = &#123;<span class="attr">hello</span>: <span class="string">"world"</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([<span class="built_in">JSON</span>.stringify(debug, <span class="literal">null</span>, <span class="number">2</span>)],</span><br><span class="line">  &#123;<span class="attr">type</span> : <span class="string">'application/json'</span>&#125;);</span><br></pre></td></tr></table></figure>
<p>所以依赖这个我们可以从后端拿到数据, 然后再前端下载它. 设计分页的我们也都是前端开分页.</p>
<h2 id="MIME类型-Multipurpose-Internet-Mail-Extensions"><a href="#MIME类型-Multipurpose-Internet-Mail-Extensions" class="headerlink" title="MIME类型(Multipurpose Internet Mail Extensions)"></a>MIME类型(Multipurpose Internet Mail Extensions)</h2><p>上面Blob的类型type选择比如要下载csv的就要选<code>text/csv</code></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types" target="_blank" rel="noopener">多用途Internet邮件扩展（MIME）类型</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types" target="_blank" rel="noopener">完整的MIME类型列表</a> 可以按扩展名来查看MIME Type</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://scarletsky.github.io/2016/07/03/download-file-using-javascript/" target="_blank" rel="noopener">如何用 JavaScript 下载文件</a><br><a href="https://lzw.me/a/fed-file-download.html" target="_blank" rel="noopener">前端 javascript 实现文件下载</a><br><a href="http://www.alloyteam.com/2014/01/use-js-file-download/" target="_blank" rel="noopener">在浏览器端用JS创建和下载文件</a><br><a href="https://sjolzy.cn/What-is-the-data-URI-scheme-and-how-to-use-the-data-URI-scheme.html" target="_blank" rel="noopener">什么是data URI scheme及如何使用data URI scheme</a><br><a href="https://stackoverflow.com/questions/22151560/what-is-happening-behind-setattribute-vs-attribute" target="_blank" rel="noopener">What is happening behind .setAttribute vs .attribute=?</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types" target="_blank" rel="noopener">多用途Internet邮件扩展（MIME）类型</a><br><a href="https://www.iana.org/assignments/media-types/media-types.xhtml" target="_blank" rel="noopener">Media Types</a><br><a href="https://sjolzy.cn/What-is-the-data-URI-scheme-and-how-to-use-the-data-URI-scheme.html" target="_blank" rel="noopener">什么是data URI scheme及如何使用data URI scheme</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/data_URIs" target="_blank" rel="noopener">Data URLs</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob" target="_blank" rel="noopener">Blob</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/07/leetcode刷题-js版/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/07/leetcode刷题-js版/" itemprop="url">leetcode刷题 js版</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-07T15:55:12+08:00">2019-04-07</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="leetcode刷题-js版"><a href="#leetcode刷题-js版" class="headerlink" title="leetcode刷题 js版"></a>leetcode刷题 js版</h1><p>刷题地址在这<a href="https://leetcode.com/problemset/all/" target="_blank" rel="noopener">leetcode</a></p>
<p>当然网址上也会有java版的解答, 涉及优化的细节</p>
<h2 id="1-Two-Sum"><a href="#1-Two-Sum" class="headerlink" title="1. Two Sum"></a>1. Two Sum</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// Approach 1: Brute Force</span></span><br><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>( <span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = i+<span class="number">1</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums[j] === target - nums[i]) &#123;</span><br><span class="line">        <span class="keyword">return</span> [i,j]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// Approach 2: Two-pass Hash Table</span></span><br><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    map.set(nums[i], i);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> complement = target - nums[i];</span><br><span class="line">    <span class="keyword">if</span> (map.has(complement) &amp;&amp; map.get(complement) != i) &#123;</span><br><span class="line">      <span class="keyword">return</span> [map.get(complement), i]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// Approach 3: One-pass Hash Table</span></span><br><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> complement = target - nums[i];</span><br><span class="line">    <span class="keyword">if</span> (map.has(complement)) &#123;</span><br><span class="line">      <span class="keyword">return</span> [map.get(complement), i]</span><br><span class="line">    &#125;</span><br><span class="line">    map.set(nums[i], i)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="2-Add-Two-Numbers"><a href="#2-Add-Two-Numbers" class="headerlink" title="2. Add Two Numbers"></a>2. Add Two Numbers</h2><h2 id="5-Longest-Palindromic-Substring"><a href="#5-Longest-Palindromic-Substring" class="headerlink" title="5. Longest Palindromic Substring"></a>5. Longest Palindromic Substring</h2><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/hanzichi/leetcode" target="_blank" rel="noopener">LeetCode solutions with JavaScript</a><br><a href="https://github.com/chihungyu1116/leetcode-javascript" target="_blank" rel="noopener">chihungyu1116/leetcode-javascript</a><br><a href="https://github.com/MisterBooo/LeetCodeAnimation" target="_blank" rel="noopener">Demonstrate all the questions on LeetCode in the form of animation.</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/01/前端的网络请求方式和http/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/01/前端的网络请求方式和http/" itemprop="url">前端的网络请求方式和http</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-01T19:12:56+08:00">2019-04-01</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/前端教程/" itemprop="url" rel="index"><span itemprop="name">前端教程</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前端的网络请求方式和http"><a href="#前端的网络请求方式和http" class="headerlink" title="前端的网络请求方式和http"></a>前端的网络请求方式和http</h1><h2 id="http请求报文"><a href="#http请求报文" class="headerlink" title="http请求报文"></a>http请求报文</h2><h3 id="HTTP之请求消息Request"><a href="#HTTP之请求消息Request" class="headerlink" title="HTTP之请求消息Request"></a>HTTP之请求消息Request</h3><p>客户端发送一个HTTP请求到服务器的请求消息包括以下格式：</p>
<p>请求行（request line）、<strong>请求头部（header</strong>）、空行和请求数据四个部分组成。</p>
<p><img src="request.png" alt="request.png"></p>
<p>这里难理解的事请求头中各个字段的用法.</p>
<p>所有的头部信息<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers" target="_blank" rel="noopener">HTTP Headers</a></p>
<p>列一些常见的</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>消息头</th>
<th>描述</th>
<th>更多信息</th>
<th>标准</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>报文创建的日期和时间</td>
<td><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Date" target="_blank" rel="noopener">date</a></td>
<td>RFC 7231</td>
</tr>
<tr>
<td>cache-control</td>
<td>在http 请求和响应中通过指定指令来实现缓存机制</td>
<td><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener">cache-control</a></td>
<td></td>
</tr>
<tr>
<td>Connection</td>
<td>决定当前的事务完成后，是否会关闭网络连接</td>
<td><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Connection" target="_blank" rel="noopener">Connection</a></td>
</tr>
</tbody>
</table>
</div>
<h3 id="HTTP之响应消息Response"><a href="#HTTP之响应消息Response" class="headerlink" title="HTTP之响应消息Response"></a>HTTP之响应消息Response</h3><p>一般情况下，服务器接收并处理客户端发过来的请求后会返回一个HTTP的响应消息。</p>
<p>HTTP响应也由四个部分组成，分别是：<strong>状态行、消息报头</strong>、空行和响应正文。</p>
<p><img src="response.png" alt="response.png"></p>
<h2 id="按http头部分"><a href="#按http头部分" class="headerlink" title="按http头部分"></a>按http头部分</h2><p>HTTP 首部表示在HTTP请求或响应中的用来传递附加信息的字段，修改所传递的消息（或者消息主体）的语义，或者使其更加精确。<strong>消息首部不区分大小写</strong>，开始于一行的开头，后面紧跟着一个’:’和与之相关的值。字段值在一个换行符（CR）前或者整个消息的末尾结束。</p>
<p><strong>自定专用消息头</strong>可通过<code>&#39;X-&#39;</code> 前缀来添加；但是这种用法被IETF在2012年6月发布的 RFC5548 中<strong>明确弃用</strong>，原因是其会在非标准字段成为标准时造成不便；其他的消息头在 IANA 注册表 中列出, 其原始内容在 RFC 4229 中定义。 此外，IANA 还维护着被提议的新HTTP 消息头注册表.</p>
<p>按照惯例，可以把<strong>消息首部分为几类</strong>，尽管这种划分不存在于任何一份规范文档中：</p>
<ul>
<li><code>General header</code>：可以应用于请求和响应中，但是与在消息主体中的数据无关。</li>
<li><code>Request header</code>：含有与所要获取的资源或者客户端自身相关的附加信息。</li>
<li><code>Response header</code>：含有与响应相关的附加信息，比如它的位置或者与服务器相关的信息（名称、版本号等）。</li>
<li><code>Entity header</code>: 含有与消息主体相关的附加信息，比如长度或者MIME类型。</li>
</ul>
<h3 id="General-header"><a href="#General-header" class="headerlink" title="General header"></a>General header</h3><p>通用首部指的是<strong>可以应用于请求和响应中，但是不能应用于消息内容自身</strong>的 HTTP header 。 取决于应用的上下文环境，<code>通用首部可以是response</code> 或者 <code>request headers</code>。但是不可以是 entity headers。</p>
<p>最常见的通用首部包括： <code>Date</code>, <code>Cache-Control</code> or <code>Connection</code>.</p>
<h3 id="Request-header"><a href="#Request-header" class="headerlink" title="Request header"></a>Request header</h3><p>请求头可以被定义为：被用于http请求中并且和请求主体无关的那一类HTTP header。某些请求头如<code>Accept</code>, <code>Accept-*</code>,  <code>If-*</code>允许执行条件请求。某些请求头如：<code>Cookie</code>, <code>User-Agent</code> 和<code>Referer</code>描述了请求本身以确保服务端能返回正确的响应。</p>
<p><strong>并非所有出现在请求中的http首部都属于请求头</strong>，例如在 POST请求中经常出现的<code>Content-Length</code>实际上是一个代表请求主体大小的<code>entity header</code>，虽然你也可以把它叫做请求头。</p>
<p>此外，CORS定义了一个叫做 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/%E7%AE%80%E5%8D%95%E5%A4%B4%E9%83%A8" target="_blank" rel="noopener">simple headers</a>的集合，它是请求头集合的一个子集。如果某次请求是只包含simple headers的话，则被认为是简单请求，不会触发请求预检（preflight）。</p>
<h3 id="Response-header"><a href="#Response-header" class="headerlink" title="Response header"></a>Response header</h3><p>响应头 可以定义为：被用于http响应中并且和响应消息主体无关的那一类 HTTP header。像<code>Age</code>, <code>Location</code> 和 <code>Server</code>都属于响应头，他们被用于描述响应。</p>
<p><strong>并非所有出现在响应中的http header都属于响应头</strong>，例如<code>Content-Length</code>就是一个代表响应体消息大小的entity header，虽然你也可以把它叫做响应头。</p>
<p>下面展示了一个 GET请求的响应头。需要注意的是，严格来说<code>Content-Encoding</code>和<code>Content-Type</code>都是属于entity headers。</p>
<h3 id="Entity-header"><a href="#Entity-header" class="headerlink" title="Entity header"></a>Entity header</h3><p>实体报头HTTP header用来描述消息体内容。<strong>实体报头既可用于请求也可用于响应中</strong>。如<code>Content-Length</code>，<code>Content-Language</code>，<code>Content-Encoding</code>之类的报头都是实体报头。</p>
<p>尽管实体报头既非请求或响应报头，（由于它经常出现在请求头或响应头中）它们通常包含于此类概念中。</p>
<p>在下面例子中，<code>Content-Length</code>是一个实体报头，而<code>Host</code>和<code>User-Agent</code>是request headers（请求报头）</p>
<h2 id="按处理方式分"><a href="#按处理方式分" class="headerlink" title="按处理方式分"></a>按处理方式分</h2><p>消息头也可以根据代理对其的处理方式分为：</p>
<h3 id="端到端消息头"><a href="#端到端消息头" class="headerlink" title="端到端消息头"></a>端到端消息头</h3><p>这类消息头必须被传输到<strong>最终的消息接收者</strong>，也即，请求的服务器或响应的客户端。<strong>中间的代理服务器必须转发未经修改的端到端消息头，并且必须缓存它们</strong>。</p>
<h3 id="逐跳消息头"><a href="#逐跳消息头" class="headerlink" title="逐跳消息头"></a>逐跳消息头</h3><p>这类消息头仅对<strong>单次传输连接有意义</strong>，不能通过代理或缓存进行重新转发。这些消息头包括 <code>Connection</code>, <code>Keep-Alive</code>, <code>Proxy-Authenticate</code>, <code>Proxy-Authorization</code>, <code>TE</code>, <code>Trailer</code>, <code>Transfer-Encoding</code> 及 <code>Upgrade</code>。注意，只能使用 <code>Connection</code> 来设置逐跳一般头。</p>
<h2 id="按使用类别"><a href="#按使用类别" class="headerlink" title="按使用类别"></a>按使用类别</h2><h3 id="AuthenticationSection"><a href="#AuthenticationSection" class="headerlink" title="AuthenticationSection"></a>AuthenticationSection</h3><ul>
<li>WWW-Authenticate: Defines the <strong>authentication method</strong> that should be used to gain access to a resource.</li>
<li>Authorization: Contains the <strong>credentials</strong> to authenticate a user agent with a server.</li>
<li>Proxy-Authenticate: Defines the <strong>authentication method</strong> that should be used to gain access to a resource behind <strong>a Proxy server</strong>.</li>
<li>Proxy-Authorization: Contains the <strong>credentials</strong> to authenticate a user agent with <strong>a proxy server</strong>.</li>
</ul>
<h3 id="CachingSection"><a href="#CachingSection" class="headerlink" title="CachingSection"></a>CachingSection</h3><ul>
<li>Age: The time <strong>in seconds</strong> the object has been in a proxy cache.</li>
<li>Cache-Control: Specifies directives for <strong>caching mechanisms</strong> in both requests and responses.</li>
<li>Clear-Site-Data: <strong>Clears browsing data</strong> (e.g. cookies, storage, cache) associated with the requesting website.</li>
<li>Expires: The <strong>date/time</strong> after which the response is considered stale.</li>
<li>Pragma: Implementation-specific header that may have various effects anywhere along the request-response chain. Used for backwards compatibility with <strong>HTTP/1.0 caches</strong> where the <strong>Cache-Control</strong> header is <strong>not yet present</strong>.</li>
<li>Warning: A general warning field containing information about possible problems.</li>
</ul>
<h3 id="ConditionalsSection"><a href="#ConditionalsSection" class="headerlink" title="ConditionalsSection"></a>ConditionalsSection</h3><ul>
<li>Last-Modified: It is a validator, <strong>the last modification date</strong> of the resource, used to compare several versions of the same resource. It is <strong>less accurate than ETag</strong>, but easier to calculate in some environments. Conditional requests using <code>If-Modified-Since</code> and <code>If-Unmodified-Since</code> use this value to change the behavior of the <strong>request</strong>.</li>
<li>ETag: It is a validator, <strong>a unique string identifying the version</strong> of the resource. Conditional requests using <code>If-Match</code> and <code>If-None-Match</code> use this value to change the behavior of the <strong>request</strong>.</li>
<li>If-Match: Makes the <strong>request</strong> conditional and applies the method only if the stored resource <strong>matches</strong> one of the given <code>ETags</code>.</li>
<li>If-None-Match: Makes the <strong>request</strong> conditional and applies the method only if the stored resource <strong>doesn’t match</strong> any of the given <code>ETags</code>. This is <strong>used to update caches</strong> (for safe requests), or <strong>to prevent to upload</strong> a new resource when one is already existing.</li>
<li>If-Modified-Since: Makes the <strong>request</strong> conditional and expects the entity to be transmitted only if it has been modified after the given date. This is used to transmit data only when the cache is out of date.</li>
<li>If-Unmodified-Since: Makes the <strong>request</strong> conditional and expects the entity to be transmitted only if it has not been modified after the given date. This is used to ensure the coherence of a new fragment of a specific range with previous ones, or to implement an optimistic concurrency control system when modifying existing documents.</li>
<li>Vary: Determines how to match future <strong>request</strong> headers to decide whether a cached response can be used rather than requesting a fresh one from the origin server.</li>
</ul>
<h3 id="Connection-managementSection"><a href="#Connection-managementSection" class="headerlink" title="Connection managementSection"></a>Connection managementSection</h3><ul>
<li>Connection: Controls whether the network connection stays open after the current transaction finishes.</li>
<li>Keep-Alive: Controls how long a persistent connection should stay open.</li>
</ul>
<h3 id="Content-negotiationSection"><a href="#Content-negotiationSection" class="headerlink" title="Content negotiationSection"></a>Content negotiationSection</h3><ul>
<li>Accept: Informs the server about the types of data that <strong>can be sent back</strong>. It is <code>MIME-type</code>.</li>
<li>Accept-Charset: Informs the server about which <strong>character set</strong> the client is able to understand.</li>
<li>Accept-Encoding: Informs the server about the <strong>encoding algorithm</strong>, usually a compression algorithm, that can be used on the resource sent back.</li>
<li>Accept-Language: Informs the server about the <strong>language</strong> the server is expected to send back. This is a hint and is not necessarily under the full control of the user: the server should always pay attention not to override an explicit user choice (like selecting a language in a drop down list).</li>
</ul>
<h3 id="ControlsSection"><a href="#ControlsSection" class="headerlink" title="ControlsSection"></a>ControlsSection</h3><ul>
<li>Expect: Indicates expectations that need to be fulfilled by the server in order to properly handle the request.</li>
</ul>
<h3 id="CookiesSection"><a href="#CookiesSection" class="headerlink" title="CookiesSection"></a>CookiesSection</h3><ul>
<li>Cookie: Contains stored HTTP cookies previously sent by the server with the <code>Set-Cookie</code> header.</li>
<li>Set-Cookie: Send cookies from the server to the user agent.</li>
</ul>
<h3 id="CORSSection"><a href="#CORSSection" class="headerlink" title="CORSSection"></a>CORSSection</h3><p>Learn more about CORS <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener">here</a>.</p>
<ul>
<li>Access-Control-Allow-Origin: Indicates whether the response can be shared.</li>
<li>Access-Control-Allow-Credentials: Indicates whether the response to the request can be exposed when the credentials flag is true.</li>
<li>Access-Control-Allow-Headers: Used in response to a preflight request to indicate which HTTP headers can be used when making the actual request.</li>
<li>Access-Control-Allow-Methods: Specifies the method or methods allowed when accessing the resource in response to a preflight request.</li>
<li>Access-Control-Expose-Headers: Indicates which headers can be exposed as part of the response by listing their names.</li>
<li>Access-Control-Max-Age: Indicates how long the results of a preflight request can be cached.</li>
<li>Access-Control-Request-Headers: Used when issuing a preflight request to let the server know which HTTP headers will be used when the actual request is made.</li>
<li>Access-Control-Request-Method: Used when issuing a preflight request to let the server know which HTTP method will be used when the actual request is made.</li>
<li>Origin: Indicates where a fetch originates from.</li>
<li>Timing-Allow-Origin: Specifies origins that are allowed to see values of attributes retrieved via features of the Resource Timing API, which would otherwise be reported as zero due to cross-origin restrictions.</li>
</ul>
<h2 id="Do-Not-TrackSection"><a href="#Do-Not-TrackSection" class="headerlink" title="Do Not TrackSection"></a>Do Not TrackSection</h2><ul>
<li>DNT: Used for expressing the user’s tracking preference.</li>
<li>Tk: Indicates the tracking status that applied to the corresponding request.</li>
</ul>
<h3 id="DownloadsSection"><a href="#DownloadsSection" class="headerlink" title="DownloadsSection"></a>DownloadsSection</h3><ul>
<li>Content-Disposition: Is a response header if the resource transmitted should be displayed inline (default behavior when the header is not present), or it should be handled like a download and the browser should present a ‘Save As’ window.</li>
</ul>
<h3 id="Message-body-informationSection"><a href="#Message-body-informationSection" class="headerlink" title="Message body informationSection"></a>Message body informationSection</h3><ul>
<li>Content-Length: Indicates the size of the entity-body, in decimal number of octets, sent to the recipient.</li>
<li>Content-Type: Indicates the media type of the resource.</li>
<li>Content-Encoding: Used to specify the compression algorithm.</li>
<li>Content-Language: Describes the language(s) intended for the audience, so that it allows a user to differentiate according to the users’ own preferred language.</li>
<li>Content-Location: Indicates an alternate location for the returned data.</li>
</ul>
<h3 id="RedirectsSection"><a href="#RedirectsSection" class="headerlink" title="RedirectsSection"></a>RedirectsSection</h3><ul>
<li>Location: Indicates the URL to redirect a page to.</li>
</ul>
<h3 id="Request-contextSection"><a href="#Request-contextSection" class="headerlink" title="Request contextSection"></a>Request contextSection</h3><ul>
<li>From: Contains an Internet email address for a human user who controls the requesting user agent.</li>
<li>Host: Specifies the domain name of the server (for virtual hosting), and (optionally) the TCP port number on which the server is listening.</li>
<li>Referer: The address of the previous web page from which a link to the currently requested page was followed.</li>
<li>Referrer-Policy: Governs which referrer information sent in the Referer header should be included with requests made.</li>
<li>User-Agent: Contains a characteristic string that allows the network protocol peers to identify the application type, operating system, software vendor or software version of the requesting software user agent. See also the Firefox user agent string reference.</li>
</ul>
<h3 id="Response-contextSection"><a href="#Response-contextSection" class="headerlink" title="Response contextSection"></a>Response contextSection</h3><ul>
<li>Allow: Lists the set of HTTP request methods support by a resource.</li>
<li>Server: Contains information about the software used by the origin server to handle the request.</li>
</ul>
<h3 id="Range-requestsSection"><a href="#Range-requestsSection" class="headerlink" title="Range requestsSection"></a>Range requestsSection</h3><ul>
<li>Accept-Ranges: Indicates if the server supports range requests, and if so in which unit the range can be expressed.</li>
<li>Range: Indicates the part of a document that the server should return.</li>
<li>If-Range: Creates a conditional range request that is only fulfilled if the given etag or date matches the remote resource. Used to prevent downloading two ranges from incompatible version of the resource.</li>
<li>Content-Range: Indicates where in a full body message a partial message belongs.</li>
</ul>
<h2 id="HTTP1-0-rfc1945"><a href="#HTTP1-0-rfc1945" class="headerlink" title="HTTP1.0 rfc1945"></a>HTTP1.0 <a href="https://tools.ietf.org/html/rfc1945" target="_blank" rel="noopener">rfc1945</a></h2><h3 id="方法3种-GET-HEAD-POST"><a href="#方法3种-GET-HEAD-POST" class="headerlink" title="方法3种 GET, HEAD, POST"></a>方法3种 GET, HEAD, POST</h3><h4 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h4><p>GET方法意味着检索由Request-URI标识的任何信息（以实体的形式）。 如果Request-URI引用数据生成过程，则生成的数据应作为响应中的实体而不是过程的源文本返回，除非该文本恰好是过程的输出。 如果请求消息包括<code>If-Modified-Since</code>头字段，则GET方法的语义变为“条件GET”。 条件GET方法请求<strong>仅在</strong>自<code>If-Modified-Since</code>标头给出的<strong>日期之后修改标识的资源时才传输</strong>，如第10.9节所述。 条件GET方法旨在通过允许刷新缓存实体而不需要多个请求或传输不必要的数据来减少网络使用。</p>
<h4 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h4><p>此方法通常用于测试超文本链接的有效性，可访问性和最近的修改。 没有类似于条件GET的“条件HEAD”请求。 如果HEAD请求包含<code>If-Modified-Since</code>标头字段，则应<strong>忽略</strong>该字段。</p>
<h4 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h4><p>所有HTTP / 1.0 POST请求都需要有效的<code>Content-Length</code>。 一个HTTP / 1.0服务器应该无法确定请求消息内容的长度时应该响应400（错误请求）消息。</p>
<p>应用程序不能缓存对POST请求的响应，因为应用程序无法知道服务器将在以后的某个请求中返回等效响应。</p>
<h2 id="1-0-目录"><a href="#1-0-目录" class="headerlink" title="1.0 目录"></a>1.0 目录</h2><ol>
<li>Introduction ……………………………………….  4<br>1.1  Purpose ……………………………………….  4       Uniform Resource Identifier (URI)<br>1.2  Terminology ……………………………………  4       666<br>1.3  Overall Operation ………………………………  6       6666<br>1.4  HTTP and MIME ………………………………….  8</li>
<li>Notational Conventions and Generic Grammar …………….  8<br>2.1  Augmented BNF ………………………………….  8<br>2.2  Basic Rules …………………………………… 10</li>
<li>Protocol Parameters ………………………………… 12<br>3.1  HTTP Version ………………………………….. 12<br>3.2  Uniform Resource Identifiers ……………………. 14<pre><code> 3.2.1  General Syntax ................................ 14
 3.2.2  http URL ...................................... 15
</code></pre>3.3  Date/Time Formats ……………………………… 15<br>3.4  Character Sets ………………………………… 17<br>3.5  Content Codings ……………………………….. 18<br>3.6  Media Types …………………………………… 19<pre><code> 3.6.1  Canonicalization and Text Defaults ............ 19
 3.6.2  Multipart Types ............................... 20
</code></pre>3.7  Product Tokens ………………………………… 20</li>
<li>HTTP Message ………………………………………. 21<br>4.1  Message Types …………………………………. 21<br>4.2  Message Headers ……………………………….. 22<br>4.3  General Header Fields ………………………….. 23</li>
<li>Request …………………………………………… 23<br>5.1  Request-Line ………………………………….. 23<pre><code> 5.1.1  Method ........................................ 24
 5.1.2  Request-URI ................................... 24
</code></pre>5.2  Request Header Fields ………………………….. 25</li>
<li>Response ………………………………………….. 25<br>6.1  Status-Line …………………………………… 26<pre><code> 6.1.1  Status Code and Reason Phrase ................. 26
</code></pre>6.2  Response Header Fields …………………………. 28</li>
<li>Entity ……………………………………………. 28<br>7.1  Entity Header Fields …………………………… 29<br>7.2  Entity Body …………………………………… 29<pre><code> 7.2.1  Type .......................................... 29
 7.2.2  Length ........................................ 30
</code></pre></li>
<li>Method Definitions …………………………………. 30<br>8.1  GET ………………………………………….. 31<br>8.2  HEAD …………………………………………. 31<br>8.3  POST …………………………………………. 31</li>
<li>Status Code Definitions …………………………….. 32<br>9.1  Informational 1xx ……………………………… 32<br>9.2  Successful 2xx ………………………………… 32<br>9.3  Redirection 3xx ……………………………….. 34<br>9.4  Client Error 4xx ………………………………. 35<br>9.5  Server Error 5xx ………………………………. 37</li>
<li>Header Field Definitions ……………………………. 37<br>10.1  Allow ……………………………………….. 38<br>10.2  Authorization ………………………………… 38<br>10.3  Content-Encoding ……………………………… 39<br>10.4  Content-Length ……………………………….. 39<br>10.5  Content-Type …………………………………. 40<br>10.6  Date ………………………………………… 40<br>10.7  Expires ……………………………………… 41<br>10.8  From ………………………………………… 42<br>10.9  If-Modified-Since …………………………….. 42<br>10.10 Last-Modified ………………………………… 43<br>10.11 Location …………………………………….. 44<br>10.12 Pragma ………………………………………. 44<br>10.13 Referer ……………………………………… 44<br>10.14 Server ………………………………………. 45<br>10.15 User-Agent …………………………………… 46<br>10.16 WWW-Authenticate ……………………………… 46</li>
<li>Access Authentication ………………………………. 47<br>11.1  Basic Authentication Scheme ……………………. 48</li>
<li>Security Considerations …………………………….. 49<br>12.1  Authentication of Clients ……………………… 49<br>12.2  Safe Methods …………………………………. 49<br>12.3  Abuse of Server Log Information ………………… 50<br>12.4  Transfer of Sensitive Information ………………. 50<br>12.5  Attacks Based On File and Path Names ……………. 51</li>
<li>Acknowledgments </li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>http status code</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>成功</td>
</tr>
<tr>
<td>301</td>
<td>永久重定向</td>
</tr>
<tr>
<td>302</td>
<td>短暂重定向 303</td>
</tr>
<tr>
<td>307</td>
<td>短暂重定向, 不改方法 303</td>
</tr>
<tr>
<td>308</td>
<td>永久重定向, 不改方法 301</td>
</tr>
<tr>
<td>400</td>
<td>客户端错误，<strong>比如缺少参数</strong>，或者业务上还不允许的操作（提交包含未标注图片的数据集）等等</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized <strong>未带登录</strong>token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden 带了token，但是没有权限（比如标注未分配给自己的数据集等等）</td>
</tr>
<tr>
<td>404</td>
<td>资源不存在</td>
</tr>
<tr>
<td>409</td>
<td>Conflict 资源重复</td>
</tr>
<tr>
<td>500</td>
<td>服务器错误（程序异常，数据库异常等等情况）</td>
</tr>
</tbody>
</table>
</div>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://segmentfault.com/a/1190000018668190" target="_blank" rel="noopener">全面分析前端的网络请求方式</a><br><a href="https://juejin.im/post/58ddb636ac502e0063992865" target="_blank" rel="noopener">HTTP最强资料大全 66</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers" target="_blank" rel="noopener">HTTP Headers MDN</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatarMogu.jpg" alt="Henry x">
            
              <p class="site-author-name" itemprop="name">Henry x</p>
              <p class="site-description motion-element" itemprop="description">this is description</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">133</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    <span class="site-state-item-count">135</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yourname" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:yourname@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://example.com/" title="weibo" target="_blank">weibo</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Henry x</span>

  

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.1"></script>



  



	





  





  










  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

  

</body>
</html>
