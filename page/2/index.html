<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.1" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.1" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.0.1',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>




  
  <meta name="keywords" content="Hexo, NexT">


<meta name="description" content="this is description">
<meta property="og:type" content="website">
<meta property="og:title" content="Little H title">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Little H title">
<meta property="og:description" content="this is description">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Little H title">
<meta name="twitter:description" content="this is description">






  <link rel="canonical" href="http://yoursite.com/page/2/">


  <title>Little H title</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Little H title</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">this is subtitle</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>公益404</a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/javascript-分号/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/11/javascript-分号/" itemprop="url">javascript-分号</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-11T19:53:31+08:00">2019-05-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript教程/" itemprop="url" rel="index"><span itemprop="name">javascript教程</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-分号"><a href="#javascript-分号" class="headerlink" title="javascript-分号"></a>javascript-分号</h1><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/10061" target="_blank" rel="noopener">JavaScript 中的分号(;) – JavaScript 完全手册（2018版）</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/javascript-异常处理/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/11/javascript-异常处理/" itemprop="url">javascript-异常处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-11T19:48:37+08:00">2019-05-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript教程/" itemprop="url" rel="index"><span itemprop="name">javascript教程</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-异常处理"><a href="#javascript-异常处理" class="headerlink" title="javascript-异常处理"></a>javascript-异常处理</h1><p>当代码遇到异常问题时，处理这种情况的惯用 <code>JavaScript</code> 方法是通过异常处理。</p>
<h2 id="创建异常处理"><a href="#创建异常处理" class="headerlink" title="创建异常处理"></a>创建异常处理</h2><p>使用 <code>throw</code> 关键字创建一个异常：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> value;</span><br></pre></td></tr></table></figure>
<p>其中 <code>value</code> 可以是任何 <code>JavaScript</code> 值，<strong>包括字符串，数字或对象</strong>。 只要 <code>JavaScript</code> 执行此行，就会<strong>暂停</strong>正常的程序流，并将控件保留回最近的 <strong>异常处理程序</strong>。</p>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>异常处理程序是 <code>try / catch</code> 语句。 在 <code>try</code> 块中包含的代码行中引发的任何异常都在相应的 <code>catch</code> 块中处理：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">//lines of code</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>在此示例中， <code>e</code> 是<strong>异常值</strong>。</p>
<p>您可以添加多个处理程序，可以捕获不同类型的错误。</p>
<h2 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h2><p>要完成此语句，<code>JavaScript</code> 还有另一个名为 <code>finally</code> 的语句，其中包含无论是否处理了异常，是否存在异常或是否存在异常，<strong>程序流程如何都执行的代码</strong>：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">//lines of code</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>您可以在没有 <code>catch</code> 块的情况下使用 <code>finally</code> ，以便<strong>清除</strong>可能在 <code>try</code> 语句块中打开的任何资源，<strong>如文件或网络请求</strong>：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">//lines of code</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="嵌套-try-语句块"><a href="#嵌套-try-语句块" class="headerlink" title="嵌套 try 语句块"></a>嵌套 try 语句块</h2><p><code>try</code> 语句块可以嵌套，并且总是在最近的 <code>catch</code> 语句块中处理异常：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">//lines of code</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//other lines of code</span></span><br><span class="line">  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">//other lines of code</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>如果在内部 <code>try</code> 中引发异常，则在外部 <code>catch</code> 块中处理它。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/10060" target="_blank" rel="noopener">JavaScript 异常处理 – JavaScript 完全手册（2018 版）</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/javascript-高阶函数/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/11/javascript-高阶函数/" itemprop="url">javascript-高阶函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-11T17:55:52+08:00">2019-05-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript教程/" itemprop="url" rel="index"><span itemprop="name">javascript教程</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-高阶函数"><a href="#javascript-高阶函数" class="headerlink" title="javascript-高阶函数"></a>javascript-高阶函数</h1><p><code>JavaScript</code> 的一个特性使其非常适合<strong>函数式编程</strong>，它可以<strong>接受高阶函数</strong>。</p>
<p><strong>高阶函数是一个函数，它可以将另一个函数作为参数，或者返回一个函数作为结果</strong>。</p>
<p>重点就是以上两点我们常用的.</p>
<h2 id="First-Class-Functions"><a href="#First-Class-Functions" class="headerlink" title="First Class Functions"></a>First Class Functions</h2><p>您可能听说过它将 <code>JavaScript</code> 视为<strong>一等公民</strong>。 这意味着 <code>JavaScript</code> 中的<strong>函数被视为对象</strong>。 它们具有 <code>Object</code> 类型，可以将它们指定为变量的值，并且可以像任何其他引用<strong>变量</strong>一样传递和返回它们。</p>
<p>这种原生能力在函数式编程方面赋予 <code>JavaScript</code> 特殊的权力。 <strong>因为函数是对象</strong>，所以该语言支持非常自然的函数式编程方法。 事实上，它是如此自然，我敢打赌你一直在使用它，甚至没有考虑它。</p>
<h2 id="将函数当做参数"><a href="#将函数当做参数" class="headerlink" title="将函数当做参数"></a>将函数当做参数</h2><p>如果您已经完成了许多<strong>基于 Web 的 <code>JavaScript</code> 编程或前端开发</strong>，那么您可能会遇到使用<strong>回调的函数</strong>。回调是在完成所有其他操作后，在操作结束时执行的函数。通常，此回调函数作为函数中的最后一个参数传入。<strong>通常，它被定义为内联的匿名函数</strong>。</p>
<p>由于 <code>JavaScript</code> 是<strong>单线程</strong>的，意味着一次只发生一个操作，所以将要发生的每个操作都沿着这个<strong>单线程排队</strong>。<strong>在父函数的其余操作完成之后传入要执行的函数的策略是支持高阶函数的语言的基本特征之一</strong>。它允许异步行为，因此脚本可以在等待结果时继续执行。在处理可能在未确定的时间段之后返回结果的资源时，传递回调函数的能力是至关重要的。</p>
<blockquote>
<p>单线程看 <a href="/2018/02/06/chrome的console功能/" title="chrome的console功能">chrome的console功能</a></p>
</blockquote>
<p>这在 Web 编程环境中非常有用，其中脚本可以将 <code>Ajax</code> 请求发送到服务器，然后需要在响应到达时处理响应，而不需要知道服务器上的网络延迟或处理时间。 <code>Node.js</code> 经常使用回调来最有效地使用服务器资源。对于在执行功能之前等待用户输入的应用程序，此方法也很有用。</p>
<p>例如，考虑这个简单的 <code>JavaScript</code> 片段，它为按钮添加了一个事件监听器。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=<span class="string">'clicker'</span>&gt;So Clickable&lt;<span class="regexp">/button&gt;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">document.getElementById('clicker').addEventListener('click', function() &#123;</span></span><br><span class="line"><span class="regexp">  alert('you triggered ' + this.id);</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br></pre></td></tr></table></figure>
<p>此脚本使用<strong>匿名内联函数</strong>来显示警报。 但它可以很容易地使用单独定义的函数，并将该命名函数传递给 <code>addEventListener</code> 方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> proveIt = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">'you triggered '</span> + <span class="keyword">this</span>.id);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'clicker'</span>).addEventListener(<span class="string">'click'</span>, proveIt);</span><br></pre></td></tr></table></figure>
<p>请注意，我们将 <code>proveIt</code> 而不是 <code>proveIt()</code> 传递给 <code>addEventListener</code> 函数。</p>
<blockquote>
<p>当您按名称传递函数而<strong>没有括号</strong>时，您将传递<strong>函数对象本身</strong>。 当您使<strong>用括号</strong>传递它时，您将<strong>传递执行该函数的结果</strong>。</p>
</blockquote>
<p>我们的 <code>proveIt()</code> 函数<strong>在结构上独立于它周围的代码</strong>，总是返回触发的任何元素的 id。 这段代码可以存在于您希望显示具有元素 id 的警报的任何上下文中，并且可以使用任何事件侦听器调用。</p>
<p><strong>使用单独定义和命名的函数替换内联函数的能力开辟了一个充满可能性的世界</strong>。 当我们尝试开发不改变外部数据的<strong>纯函数</strong>，并且每次都为相同的输入返回相同的结果时，我们现在拥有一个必不可少的工具来帮助我们开发一个可以使用的小型目标函数库 通常用于任何应用程序。</p>
<blockquote>
<p><a href="https://medium.freecodecamp.org/what-is-a-pure-function-in-javascript-acb887375dfe" target="_blank" rel="noopener">pure function</a></p>
</blockquote>
<h2 id="将函数作为结果返回"><a href="#将函数作为结果返回" class="headerlink" title="将函数作为结果返回"></a>将函数作为结果返回</h2><p><strong>除了将函数作为参数之外，<code>JavaScript</code> 还允许函数返回其他函数</strong>。 这很有道理，因为<strong>函数只是对象</strong>，它们可以像任何其他值一样返回。</p>
<p>但结果返回函数意味着什么？ 将函数定义为另一个函数的返回值<strong>允许您创建可用作模板的函数来创建新函数</strong>。 这打开了另一个功能 <code>JavaScript</code> 魔术世界的大门。</p>
<p>例如，想象一下你已经厌倦了阅读所有这些关于 <code>Millenials</code> 的特殊性的文章，并且你决定每次发生时都想用 <code>Millenials</code> 代替 <code>Snake People</code> 这个词。 您的冲动可能只是编写一个函数，在您传递给它的任何文本上执行该文本替换：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> snakify = <span class="function"><span class="keyword">function</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> text.replace(<span class="regexp">/millenials/gi</span>, <span class="string">'Snake People'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(snakify(<span class="string">'The Millenials are always up to something.'</span>));</span><br><span class="line"><span class="comment">// The Snake People are always up to something.</span></span><br></pre></td></tr></table></figure>
<p>这是有效的，但这对于这种情况非常具体。 你也厌倦了听说 <code>Baby Boomers</code> 。 您也想为他们制作自定义功能。 但即使有这么简单的功能，你也不想重复你编写的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hippify = <span class="function"><span class="keyword">function</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> text.replace(<span class="regexp">/baby boomers/gi</span>, <span class="string">'Aging Hippies'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(hippify(<span class="string">'The Baby Boomers just look the other way.'</span>));</span><br><span class="line"><span class="comment">// The Aging Hippies just look the other way.</span></span><br></pre></td></tr></table></figure>
<p>但是如果你决定要做一些更好的东西<strong>以保留原始字符串</strong>中的情况呢？ 您<strong>必须修改两个新函数</strong>才能执行此操作。 这是一个麻烦，它使你的代码更脆弱，更难阅读。</p>
<p>您真正想要的是能够灵活地将任何术语替换为模板函数中的任何其他术语，<strong>并将该行为定义为基础函数，您可以从中生成整个定制函数</strong>。</p>
<p>由于能够返回函数而不是值，JavaScript 提供了使方案更加方便的方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> attitude = <span class="function"><span class="keyword">function</span>(<span class="params">original, replacement, source</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> source.replace(original, replacement);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> snakify = attitude(<span class="regexp">/millenials/gi</span>, <span class="string">'Snake People'</span>);</span><br><span class="line"><span class="keyword">var</span> hippify = attitude(<span class="regexp">/baby boomers/gi</span>, <span class="string">'Aging Hippies'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(snakify(<span class="string">'The Millenials are always up to something.'</span>));</span><br><span class="line"><span class="comment">// The Snake People are always up to something.</span></span><br><span class="line"><span class="built_in">console</span>.log(hippify(<span class="string">'The Baby Boomers just look the other way.'</span>));</span><br><span class="line"><span class="comment">// The Aging Hippies just look the other way.</span></span><br></pre></td></tr></table></figure>
<p>我们所做的是<strong>将执行实际工作的代码隔离成一个多功能且可扩展的 <code>attitude</code> 函数</strong>，该函数封装了使用原始短语和具有某种 attitude 的替换短语来修改任何输入字符串所需的所有工作。</p>
<p>定义一个新函数作为对 <code>attitude</code> 函数的引用，预先填充它所采用的前两个参数，允许新函数接受你传递它的任何参数，并将其用作 <code>attutide</code> 函数返回的内部函数中的源文本。</p>
<p>我们在这里利用了这样一个事实：<strong>JavaScript 函数并不关心它们是否传递了与最初定义的参数数量相同的参数</strong>。 如果缺少参数，该函数将仅将缺少的参数视为<strong>未定义</strong>。</p>
<p>另一方面，当被调用的函数以我们刚刚演示的方式定义时，可以在稍后传递该附加参数，作为对具有参数（或更多）的另一个函数返回的函数的引用未定义。</p>
<p>如果需要，可以多次查看，以便您完全了解正在发生的事情。 我们正在创建一个返回另一个函数的模板函数。 然后我们将新返回的函数（减去一个属性）定义为模板函数的自定义实现。 以这种方式创建的所有函数都将从模板函数继承相同的工作代码，但可以使用不同的默认参数进行预定义。</p>
<h2 id="这就是你已经在做的事情"><a href="#这就是你已经在做的事情" class="headerlink" title="这就是你已经在做的事情"></a>这就是你已经在做的事情</h2><p>高阶函数是 <code>JavaScript</code> 工作方式的基础，你已经在使用它们了。<strong>每次传递匿名函数或回调时，实际上都会获取传递函数返回的值，并将其用作另一个函数的参数</strong>。</p>
<p>函数返回其他函数的能力扩展了 <code>JavaScript</code> 的便利性，允许我们创建自定义命名函数以使用共享模板代码执行特定任务。这些小函数中的每一个都可以继承在原始代码中所做的任何改进，这有助于我们避免代码重复，并保持我们的源清洁和可读。</p>
<p>作为一个额外的好处，如果你<strong>确保你的功能是纯粹的</strong>，这样它们就不会改变外部值，并且它们总是为任何给定的输入返回相同的值，你就可以自己创建测试套件以验证你的更新模板功能时，代码更改不会破坏您所依赖的任何内容。</p>
<p>开始考虑如何在自己的项目中利用这种方法。 <code>JavaScript</code> 的一大优点是，您可以将功能技术与您熟悉的代码混合使用。尝试一些实验。您可能会惊讶于使用高阶函数进行一些小工作可以轻松改进您的代码。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.sitepoint.com/higher-order-functions-javascript/" target="_blank" rel="noopener">Higher-Order Functions in JavaScript</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/javascript-工厂函数/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/11/javascript-工厂函数/" itemprop="url">javascript-工厂函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-11T16:22:07+08:00">2019-05-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript教程/" itemprop="url" rel="index"><span itemprop="name">javascript教程</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-工厂函数"><a href="#javascript-工厂函数" class="headerlink" title="javascript-工厂函数"></a>javascript-工厂函数</h1><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/7106" target="_blank" rel="noopener">JavaScript中的工厂函数</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/javascript-class/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/11/javascript-class/" itemprop="url">javascript-class</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-11T10:29:31+08:00">2019-05-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/JavaScript完全手册-2018版/" itemprop="url" rel="index"><span itemprop="name">JavaScript完全手册(2018版)</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-class"><a href="#javascript-class" class="headerlink" title="javascript-class"></a>javascript-class</h1><p>2015 年，ECMAScript 6（ES6）标准引入了 Classes(类) 。</p>
<p>在此之前，<code>JavaScript</code> <strong>只有一种非常独特的方式来实现继承</strong>。 它的<strong>原型继承</strong>虽然在我看来很棒，但与其他流行的编程语言不同。</p>
<p><strong>来自 Java 或 Python 或其他语言的人很难理解原型继承的复杂性</strong>，因此 ECMAScript 委员会决定在它们之上引入一个<strong>语法糖</strong>，类似于基于类的继承在其他流行的实现中工作。</p>
<p>这很重要：引擎下的 JavaScript 实现仍然相同，您可以平常的方式继续访问对象原型。</p>
<h2 id="定义一个-class-类"><a href="#定义一个-class-类" class="headerlink" title="定义一个 class(类)"></a>定义一个 class(类)</h2><p>这是一个班级的 class(类) 。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  hello() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello, I am '</span> + <span class="keyword">this</span>.name + <span class="string">'.'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>一个类有一个标识符</strong>，我们可以使用它来使用 <code>new ClassIdentifier()</code> 创建对象实例。上述例子中你可以使用 <code>new Person(&#39;&#39;)</code> 来创建。</p>
<p>初始化对象时，将调用 <code>constructor</code>(构造函数) 方法，并传递一些参数。</p>
<p>一个类也有它需要的方法。 上述例子中，<code>hello</code> 是一个方法，可以在从该类派生的所有实例上调用：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flavio = <span class="keyword">new</span> Person(<span class="string">'Flavio'</span>);</span><br><span class="line">flavio.hello();</span><br></pre></td></tr></table></figure>
<h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><p>类可以扩展另一个类，使用该类初始化的实例对象继承这两个类的所有方法。</p>
<p>如果继承的类具有与上层次结构中较高的类之一具有相同名称的方法，则最接近的方法优先：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  hello() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">super</span>.hello() + <span class="string">' I am a programmer.'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> flavio = <span class="keyword">new</span> Programmer(<span class="string">'Flavio'</span>);</span><br><span class="line">flavio.hello();</span><br></pre></td></tr></table></figure>
<p>上面的程序打印出 <code>“Hello, I am Flavio. I am a programmer.”</code></p>
<p>类没有显式的类变量声明，但必须初始化构造函数中所有的变量。</p>
<p>在类中，您可以调用 <code>super()</code> 来引用父类。</p>
<blockquote>
<p>看完了 class 的是原型的糖, 那么可以知道 <code>extends</code> 也是原型糖, 即<code>son.prototype = new F()</code> 子的原型指向父的一个实例<br><code>super</code>指代了整个<code>prototype</code>或者<code>__proto__</code>指向的对象, 用<code>extends</code>时别忘<code>super</code></p>
</blockquote>
<p><strong>继承还是组合, 更多喜欢用<a href="https://www.html.cn/archives/7106" target="_blank" rel="noopener">组合</a>的方式</strong>.</p>
<h2 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h2><p><strong>通常</strong>，方法是在实例上执行的，而不是在类上执行的。</p>
<p>静态方法在<strong>类上执行</strong>：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> genericHello() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">Person.genericHello(); <span class="comment">//Hello</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>也就是在构造函数上加方法</p>
</blockquote>
<p><strong>注意, 如果用 ES5 <code>Object.create</code>的方式来创建, 是不能继承静态方法的, 而用<code>extends</code>可以继承</strong></p>
<blockquote>
<p><code>Object.create</code> 可以创建一个<strong>普通对象</strong>，但不能创建一个<strong>函数对象</strong><br>就是函数<code>Function</code>和对象<code>Object</code>的区别</p>
</blockquote>
<p><a href="https://www.cnblogs.com/jikey/archive/2010/04/28/1722971.html" target="_blank" rel="noopener">理解 JavaScript 函数（函数和对象的区别和联系）</a></p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">B.f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">D</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">D.prototype = <span class="built_in">Object</span>.create(B.prototype);</span><br><span class="line"></span><br><span class="line">D.f(); <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> f() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">D.f(); <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>
<p><a href="https://www.html.cn/archives/7383" target="_blank" rel="noopener">面向对象的 JavaScript – 深入了解 ES6 类</a></p>
<h2 id="私有方法"><a href="#私有方法" class="headerlink" title="私有方法"></a>私有方法</h2><p>JavaScript 目前<strong>没有内置的方法来定义私有或受保护的方法</strong>。目前有很多 hack 方式解决，但我不会在这里描述它们。</p>
<p>值得注意的是 TC39 最近在 GitHub 上通过了一条 <code>EMCAScript</code> 语法特性的<strong>草案</strong>，即<strong>类私有属性修饰符</strong> <code>#</code>，不过，该特性之前在社区的调研中遭遇了<strong>大量反对</strong>。例如：</p>
<p>JavaScript 代码:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">  #height;</span><br><span class="line">  #width;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(width, height) &#123;</span><br><span class="line">    this.#width = width;</span><br><span class="line">    this.#height = height;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get area() &#123;</span><br><span class="line">    return this.#width * this.#height;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> square = <span class="keyword">new</span> Shape(<span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(square.area);             <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log(square <span class="keyword">instanceof</span> Shape); <span class="comment">// true</span></span><br><span class="line">console.log(square.#width);           // 错误：私有属性只能在类中访问</span><br></pre></td></tr></table></figure>
<p>确实有点丑陋！本人更喜欢 <code>TypeScript</code> 的方式:</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">  private width;</span><br><span class="line">  private height;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(width, height) &#123;</span><br><span class="line">    <span class="keyword">this</span>.width = width;</span><br><span class="line">    <span class="keyword">this</span>.height = height;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get area() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.width * <span class="keyword">this</span>.height;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> square = <span class="keyword">new</span> Shape(<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">console</span>.log(square.area); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>还有用公约 <code>_</code>前缀的 , 用特权方法的(在构造函数中写闭包), 用<code>Symbol</code>的, <code>WeekMap</code></p>
</blockquote>
<p><a href="https://ts.xcatliu.com/advanced/class#public-private-he-protected" target="_blank" rel="noopener">public private 和 protected</a></p>
<h2 id="getter-和-setter"><a href="#getter-和-setter" class="headerlink" title="getter 和 setter"></a>getter 和 setter</h2><p>您可以添加以 <code>get</code> 或 <code>set</code> <strong>为前缀</strong>的方法来创建 <code>getter</code> 和 <code>setter</code>，这两个代码是根据您正在执行的操作执行的：访问变量或修改其值。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  set name(value) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = value;</span><br><span class="line">  &#125;</span><br><span class="line">  get name() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果您只有一个 <code>getter</code>，则无法设置该属性，并且将忽略任何尝试这样做：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  get name() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果您只有一个 <code>setter</code> ，则可以更改该值，但不能从外部访问它：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  set name(value) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>关于 Classes（类）的更多详细信息可以查看 <a href="https://www.html.cn/archives/7383" target="_blank" rel="noopener">面向对象的 JavaScript – 深入了解 ES6 类</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/10053" target="_blank" rel="noopener">如何使用 JavaScript 中的 Classes（类）</a><br><a href="https://www.cnblogs.com/liutie1030/p/5997446.html" target="_blank" rel="noopener">浅谈 ES6 中 super 关键字</a><br><a href="https://www.html.cn/archives/7383" target="_blank" rel="noopener">面向对象的 JavaScript – 深入了解 ES6 类</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/javascript-Prototype/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/11/javascript-Prototype/" itemprop="url">javascript-Prototype</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-11T09:43:52+08:00">2019-05-11</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/JavaScript完全手册-2018版/" itemprop="url" rel="index"><span itemprop="name">JavaScript完全手册(2018版)</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-Prototype"><a href="#javascript-Prototype" class="headerlink" title="javascript-Prototype"></a>javascript-Prototype</h1><p>看这个就行,<a href="https://www.html.cn/archives/10022" target="_blank" rel="noopener">JavaScript Prototype(原型) 新手指南</a></p>
<p>6 步</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/10022" target="_blank" rel="noopener">JavaScript Prototype(原型) 新手指南</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/10/javascript-原型继承/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/10/javascript-原型继承/" itemprop="url">javascript-原型继承</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-10T16:39:30+08:00">2019-05-10</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/JavaScript完全手册-2018版/" itemprop="url" rel="index"><span itemprop="name">JavaScript完全手册(2018版)</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-原型继承"><a href="#javascript-原型继承" class="headerlink" title="javascript-原型继承"></a>javascript-原型继承</h1><p><code>JavaScript</code> 在流行的编程语言中非常独特，因为它使用了<strong>原型继承</strong>。 让我们找出这意味着什么。</p>
<p>虽然大多数面向对象的语言使用<strong>基于类的继承</strong>模型，但 <code>JavaScript</code> <strong>基于原型继承</strong>模型。</p>
<p>这是什么意思呢？</p>
<p>每个 <code>JavaScript</code> 对象都有一个名为 <code>prototype</code> 的属性，它指向不同的对象。</p>
<p>这个不同的对象就是 <strong>对象原型</strong> 。</p>
<p>我们的对象<strong>使用该对象原型来继承属性和方法</strong>。</p>
<p>假设您使用<strong>对象字面量语法</strong>创建了一个对象：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure>
<p>在任何情况下，<code>car</code> 的 <code>prototype</code>(原型) 是 <code>Object</code> ：</p>
<p>如果初始化一个数组，数组其实也是一个对象：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = [];</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line"><span class="keyword">const</span> list = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br></pre></td></tr></table></figure>
<p>这里 <code>list</code> 的 <code>prototype</code>(原型) 是 <code>Array</code> ：</p>
<p>您可以通过检查 <code>__proto__</code> getter 来验证这一点：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">car.__proto__ === <span class="built_in">Object</span>.prototype; <span class="comment">//true</span></span><br><span class="line">car.__proto__ === <span class="keyword">new</span> <span class="built_in">Object</span>().__proto__; <span class="comment">//true</span></span><br><span class="line">list.__proto__ === <span class="built_in">Object</span>.prototype; <span class="comment">//false</span></span><br><span class="line">list.__proto__ === <span class="built_in">Array</span>.prototype; <span class="comment">//true</span></span><br><span class="line">list.__proto__ === <span class="keyword">new</span> <span class="built_in">Array</span>().__proto__; <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>我在这里使用 <code>__proto__</code> 属性，这是历史遗留的非标准的语法，但在现代浏览器中广泛实现。<strong>获得原型的更可靠方法</strong>是使用 <code>Object.getPrototypeOf(new Object())</code>；例如：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> list = [];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(car));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(list));</span><br></pre></td></tr></table></figure>
<p>我们可以在控制台中看到，他们的 <code>constructor</code> 属性分别是 <code>Object()</code> 和 <code>Array()</code>;</p>
<p><img src="getPrototypeOf.png" alt="getPrototypeOf.png"></p>
<p><strong>原型中的所有属性和方法</strong>对于拥有原型的对象都是可用的：</p>
<p><img src="list.png" alt="list.png"></p>
<p><code>Object.prototype</code> <strong>是所有对象的基本原型</strong>：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.__proto__ == <span class="built_in">Object</span>.prototype; <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>如果你想知道 <code>Object.prototype</code> 的原型是什么，<strong>那就没有原型</strong>。 这是一种特殊的，独一无二的的对象。(❄️)</p>
<p>您看到的上面的示例是<strong>工作中的原型链的示例</strong>。</p>
<p>我可以<strong>创建一个对象来扩展 <code>Array</code> 的对象</strong>，和任何我用它实例化的对象，在其原型链中将包含 <code>Array</code> 和 <code>Object</code>，并从所有祖先继承属性和方法。</p>
<p>除了使用 <code>new</code> 运算符创建对象，或使用对象和数组的<strong>字面量语法</strong>之外，还可以使用 <code>Object.create()</code> 实例化对象。</p>
<blockquote>
<p>3 种方式实例化对象</p>
</blockquote>
<p>传递的第一个参数是用作原型的对象：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = <span class="built_in">Object</span>.create(&#123;&#125;);</span><br><span class="line"><span class="keyword">const</span> list = <span class="built_in">Object</span>.create(<span class="built_in">Array</span>);</span><br></pre></td></tr></table></figure>
<p>您可以使用 <code>isPrototypeOf()</code> 方法<strong>检查对象的原型</strong>：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isPrototypeOf(list); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">Object</span>.isPrototypeOf(list); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<p>请注意，因为您可以使用以下方式实例化一个数组</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = <span class="built_in">Object</span>.create(<span class="built_in">Array</span>.prototype);</span><br></pre></td></tr></table></figure>
<p>在这种情况下，<code>Array.isPrototypeOf(list)</code> 为 <code>false</code>，而 <code>Array.prototype.isPrototypeOf(list)</code> 为 <code>true</code> 。</p>
<p>关于 JavaScript prototype(原型) 的相关知识，可以查看 <a href="https://www.html.cn/archives/10022" target="_blank" rel="noopener">JavaScript Prototype(原型) 新手指南</a> 详细了解。</p>
<blockquote>
<p>6 步 从一个对象, 到封装成函数, 用<code>Object.create()</code>, <code>prototype</code>, <code>new</code>, <code>class</code></p>
</blockquote>
<p>再看 <code>Object.create()</code>这个是原型继承, 也可不用, 自己 <code>=</code>, 注意<code>constructor</code>自己设置</p>
<p>然后是<code>Object.create()</code>的原理呗, 不支持的浏览器用代替的, 一起记了. 和 <code>new</code> 区别</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">Object</span>.create) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.create(obj);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// 创建构造函数 Fun</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Fun</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  Fun.prototype = obj;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Fun();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="看完再看-补充"><a href="#看完再看-补充" class="headerlink" title="看完再看 补充"></a>看完再看 补充</h2><a href="/2018/12/06/javascript原型/" title="javascript原型">javascript原型</a>
<blockquote>
<p>看完了class的是原型的糖, 那么可以知道 <code>extends</code> 也是原型糖, 即<code>son.prototype = new F()</code> 子的原型指向父的一个实例</p>
</blockquote>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/10030" target="_blank" rel="noopener">原型继承 – JavaScript 完全手册（2018 版）</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/09/javascript-数据类型判断/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/09/javascript-数据类型判断/" itemprop="url">javascript-数据类型判断</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-09T20:55:02+08:00">2019-05-09</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/JavaScript完全手册-2018版/" itemprop="url" rel="index"><span itemprop="name">JavaScript完全手册(2018版)</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-数据类型判断"><a href="#javascript-数据类型判断" class="headerlink" title="javascript-数据类型判断"></a>javascript-数据类型判断</h1><p><a href="https://www.html.cn/archives/10016" target="_blank" rel="noopener">JavaScript 数据类型判断 666</a></p>
<p><code>javascript</code> 由于各种各样的原因，在判断一个<strong>变量的数据类型</strong>方面一直存在着一些问题，其中最典型的问题恐怕就是 <code>typeof null</code> 会返回 <code>object</code> 了吧。因此在这里简单的总结一下判断数据类型时常见的陷阱，以及正确的处理姿势。</p>
<h2 id="javascript-数据类型"><a href="#javascript-数据类型" class="headerlink" title="javascript 数据类型"></a>javascript 数据类型</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures" target="_blank" rel="noopener">MDN 数据类型</a></p>
<blockquote>
<p>更详细, 除了 5+1 还有 Symbol, 以及对象的特性, 新数据解构 Map, Set</p>
</blockquote>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>这里先谈一下 <code>JavaScript</code> 这门语言的数据类型。<code>JavaScript</code> 中有七种数据类型，其中有六种简单数据类型(原始烈性)，一种复杂数据类型。</p>
<blockquote>
<p><strong>首字母大写</strong>的<code>Undefined</code>表示的是一种<strong>数据类型</strong>,<strong>首字母小写</strong>的<code>undefined</code>表示的是属于这种<strong>数据类型的唯一的一个值</strong>。</p>
</blockquote>
<h4 id="六种简单数据类型"><a href="#六种简单数据类型" class="headerlink" title="六种简单数据类型"></a>六种简单数据类型</h4><ul>
<li><code>String</code></li>
<li><code>Number</code></li>
<li><code>Boolean</code></li>
<li><code>Null</code></li>
<li><code>Undefined</code></li>
<li><code>Symbol</code> (ECMAScript 6 新定义)</li>
</ul>
<h4 id="复杂数据类型"><a href="#复杂数据类型" class="headerlink" title="复杂数据类型"></a>复杂数据类型</h4><ul>
<li><code>Object</code> 是唯一的复杂数据类型。 <code>Object</code> , <code>Array</code> , <code>Function</code> 这些<strong>引用类型</strong>值最终都可以归结为 <code>Object</code> <strong>复杂数据类型</strong>。</li>
</ul>
<h2 id="各种陷阱"><a href="#各种陷阱" class="headerlink" title="各种陷阱"></a>各种陷阱</h2><h3 id="typeof-的陷阱"><a href="#typeof-的陷阱" class="headerlink" title="typeof 的陷阱"></a>typeof 的陷阱</h3><p><a href="https://link.juejin.im/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Ftypeof" target="_blank" rel="noopener">MDN typeof</a></p>
<p><code>typeof</code> 是用来检测变量<strong>数据类型</strong>的操作符，对一个值使用 <code>typeof</code> <strong>操作符</strong>可能会返回下列某个<strong>字符串</strong></p>
<ul>
<li>“undefined” — 如果这个变量只定义没初始化, 用 <code>typeof</code> 如果这个变量未定义或全局的<code>undefined</code>属性</li>
<li>“string” — 如果这个变量初始化为<code>String</code>字符串类型</li>
<li>“boolean” — 如果这个变量初始化为<code>Boolean</code>布尔类型值</li>
<li>“number” — 如果这个变量初始化为<code>Number</code>数值类型</li>
<li>“symbol” — 如果这个变量初始化为<code>Symbol</code>数值类型</li>
<li>“object” — 如果这个变量初始化为<code>Object</code>对象或 <code>Array</code>数组 或者 <code>Null</code>类型的 null</li>
<li>“function” — 如果这个变量初始化为<code>Function</code>函数</li>
</ul>
<blockquote>
<p>数组确实是对象, 但我们想更具体区分 是不是一个数组.</p>
</blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof#%E7%A4%BA%E4%BE%8B" target="_blank" rel="noopener">示例, MDN 666666 展示很多易错点</a></p>
<blockquote>
<p>例如注意<code>NAN</code> 还是<code>number</code>, 还有<strong>不要使用包装类型</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Numbers</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">37</span> === <span class="string">'number'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="number">3.14</span> === <span class="string">'number'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Math</span>.LN2 === <span class="string">'number'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">Infinity</span> === <span class="string">'number'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">NaN</span> === <span class="string">'number'</span>; <span class="comment">// 尽管NaN是"Not-A-Number"的缩写</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Number</span>(<span class="number">1</span>) === <span class="string">'number'</span>; <span class="comment">// 但不要使用这种形式!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Strings</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">''</span> === <span class="string">'string'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="string">'bla'</span> === <span class="string">'string'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">typeof</span> <span class="number">1</span> === <span class="string">'string'</span>; <span class="comment">// typeof总是返回一个字符串</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">String</span>(<span class="string">'abc'</span>) === <span class="string">'string'</span>; <span class="comment">// 但不要使用这种形式!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Booleans</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> === <span class="string">'boolean'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">false</span> === <span class="string">'boolean'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>) === <span class="string">'boolean'</span>; <span class="comment">// 但不要使用这种形式!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Symbols</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>() === <span class="string">'symbol'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>(<span class="string">'foo'</span>) === <span class="string">'symbol'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator === <span class="string">'symbol'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> === <span class="string">'undefined'</span>;</span><br><span class="line"><span class="keyword">typeof</span> declaredButUndefinedVariable === <span class="string">'undefined'</span>;</span><br><span class="line"><span class="keyword">typeof</span> undeclaredVariable === <span class="string">'undefined'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Objects</span></span><br><span class="line"><span class="keyword">typeof</span> &#123; <span class="attr">a</span>: <span class="number">1</span> &#125; === <span class="string">'object'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用Array.isArray 或者 Object.prototype.toString.call</span></span><br><span class="line"><span class="comment">// 区分数组,普通对象</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>] === <span class="string">'object'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Date</span>() === <span class="string">'object'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面的容易令人迷惑，不要使用！</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>) === <span class="string">'object'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>) === <span class="string">'object'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'abc'</span>) === <span class="string">'object'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125; === <span class="string">'function'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;&#125; === <span class="string">'function'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Math</span>.sin === <span class="string">'function'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Function</span>() === <span class="string">'function'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="1-Object-对象检测的陷阱"><a href="#1-Object-对象检测的陷阱" class="headerlink" title="1. Object 对象检测的陷阱"></a>1. Object 对象检测的陷阱</h4><p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObj</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj === <span class="string">'object'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'It is object'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'It is not object'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个函数的本意是想检测传入的参数是否是 <code>Object</code> 对象。但是这个函数其实是非常不安全的。</p>
<p>比如</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">isObj(a); <span class="comment">// 'It is object'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="literal">null</span>;</span><br><span class="line">isObj(b); <span class="comment">// 'It is object'</span></span><br></pre></td></tr></table></figure>
<p>这样明显是不对的，因为 <code>typeof []</code> 和 <code>typeof null</code> 都是是会返回 ‘<code>object</code>‘ 的。</p>
<h3 id="2-Array-对象检测的陷阱"><a href="#2-Array-对象检测的陷阱" class="headerlink" title="2. Array 对象检测的陷阱"></a>2. Array 对象检测的陷阱</h3><p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> []; <span class="comment">//  'object'</span></span><br></pre></td></tr></table></figure>
<p>上面说到了<strong>对一个数组</strong>使用 <code>typeof</code> 操作符也是会返回 <code>&#39;object&#39;</code>，因此 <code>typeof</code> 并不能判断<strong>数组对象</strong>的类型</p>
<blockquote>
<p>typeof 在判断复杂数据类型不够细致</p>
</blockquote>
<h3 id="instanceof-的陷阱-与-基本包装类型"><a href="#instanceof-的陷阱-与-基本包装类型" class="headerlink" title="instanceof 的陷阱 与 基本包装类型"></a>instanceof 的陷阱 与 基本包装类型</h3><h4 id="1-instanceof"><a href="#1-instanceof" class="headerlink" title="1. instanceof"></a>1. instanceof</h4><p><a href="https://link.juejin.im/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Finstanceof" target="_blank" rel="noopener">MDN instanceof</a></p>
<p><code>instanceof</code> 运算符用来测试一个<strong>对象在其原型链中是否存在一个构造函数的 <code>prototype</code> 属性</strong>。</p>
<p><code>instanceof</code> 运算符用于测试构造函数的 <code>prototype</code> 属性是否出现在对象的原型链中的任何位置</p>
<blockquote>
<p>从实例往上走和从构造函数往上走能不能到同一个原型.<br>看原型链那张图</p>
</blockquote>
<h4 id="2-基本包装类"><a href="#2-基本包装类" class="headerlink" title="2. 基本包装类"></a>2. 基本包装类</h4><p>《Javascript》高级程序设计 第五章第六节 基本包装类型</p>
<p>javascript 为了<strong>方便操作基本类型值</strong>，ECMAscript 提供了 3 个特殊的引用类型：<code>Boolean</code>、<code>Number</code> 和 <code>String</code>。 每当读取一个<strong>基本类型值</strong>的时候，后台就会创建一个<strong>对应的基本包装类型的对象</strong>，从而让我们能够调用一些方法来操作这些数据。</p>
<blockquote>
<p>注意不是永久有方法的, 只是暂时的</p>
</blockquote>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="string">'some text'</span>;</span><br><span class="line"><span class="keyword">var</span> s2 = s1.substring(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>上面的代码中，先创建了一个<strong>字符串</strong>保存在了变量 <code>s1</code>，字符串当然是<strong>基本类型值</strong>。但是在下一行中我们又调用了 <code>s1</code> 的<strong>方法</strong>。我们知道基本类型值不是对象，<strong>理论上它不应该拥有方法</strong>（但它们确实有方法）。其实，为了让我们实现这种直观的操作，<strong>后台已经帮助我们完成了一系列的操作</strong>。当我们在第二行代码中访问 <code>s1</code> 变量时，访问过程处于读取模式，而在读取模式中访问字符串时，后台都会自动完成下列处理。</p>
<ol>
<li>创建 <code>String</code> 类型的一个实例；</li>
<li>在实例上调用指定的方法；</li>
<li>销毁这个实例。</li>
</ol>
<p>可以将以上三个步骤想像成是执行了下列代码</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'some text'</span>);</span><br><span class="line"><span class="keyword">var</span> s2 = s1.substring(<span class="number">2</span>);</span><br><span class="line">s1 = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<h4 id="3-instanceof-判断基本类型值的陷阱"><a href="#3-instanceof-判断基本类型值的陷阱" class="headerlink" title="3. instanceof 判断基本类型值的陷阱"></a>3. instanceof 判断基本类型值的陷阱</h4><p>上面提到 3 种<strong>基本包装类</strong>，就是为了说明 <code>instanceof</code> 这个陷阱</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'text'</span>;</span><br><span class="line">str <span class="keyword">instanceof</span> <span class="built_in">String</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>本来我也是想当然的认为 <code>str instanceof String</code> 会使 str 变量处于读取模式，<strong>自动建立基本包装类</strong>。但是根据上述代码所体现表象来看，<code>instanceof</code> 运算符是<strong>直接访问的变量的原始值</strong>。</p>
<p>因此 <code>instanceof</code> 并不能用来判断五种基本类型值</p>
<h4 id="4-instanceof-判断-Object-类型的陷阱"><a href="#4-instanceof-判断-Object-类型的陷阱" class="headerlink" title="4. instanceof 判断 Object 类型的陷阱"></a>4. instanceof 判断 Object 类型的陷阱</h4><p>这里先说一下，用 <code>instanceof</code> 判断 <code>Array</code> 类型基本上是<strong>非常 ok</strong>的</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>但是 <code>instanceof</code> 却<strong>不能安全的判断</strong> <code>Object</code> 类型，<strong>因为 <code>Array</code> 构造函数是继承自 <code>Object</code> 对象的</strong>，因此在 arr 变量上是可以访问到 <code>Object</code> 的 <code>prototype</code> 属性的。如下例所示：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Object</span>; <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 会返回 true ，是因为 Object 构造函数的 prototype 属性存在与 arr 这个数组实例的原型链上。</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>所以 <code>instanceof</code> 只用来判断 <code>Function</code>么</p>
</blockquote>
<h2 id="一个高效但危险的变量类型判断方法"><a href="#一个高效但危险的变量类型判断方法" class="headerlink" title="一个高效但危险的变量类型判断方法"></a>一个高效但危险的变量类型判断方法</h2><h3 id="用对象的-constructor-来判断对象类型"><a href="#用对象的-constructor-来判断对象类型" class="headerlink" title="用对象的 constructor 来判断对象类型"></a>用对象的 constructor 来判断对象类型</h3><p><a href="https://link.juejin.im/?target=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F767486%2Fhow-do-you-check-if-a-variable-is-an-array-in-javascript" target="_blank" rel="noopener">stack overflow</a>上有人做了实验，说是目前运算最快的判断变量类型的方式。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cstor</span>(<span class="params">variable</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> cst = variable.constructor;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (cst) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Number</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Number'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">String</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'String'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Boolean</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Boolean'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Array</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Array'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Object</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Object'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Function</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Function'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面是一个<strong>判断变量类型</strong>的方法，工作的非常高效完美。但是用 <code>constructor</code> 判断变量类型有一个<strong>致命的缺陷</strong>，就是<strong>当检测 <code>null</code> 或者 <code>undefined</code> 类型的 <code>constructor</code> 属性时，js 会报错！</strong></p>
<p>也就是说下面代码会报错！</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cstor(<span class="literal">null</span>); <span class="comment">// 若传入 null 或者 undefined 作为参数时</span></span><br><span class="line"><span class="comment">// cstor 函数第一行就会报错，因为 null 和 undefined 根本就没有 constructor 属性</span></span><br></pre></td></tr></table></figure>
<p>因此我们在利用变量的 <code>constructor</code> 属性来判断变量类型时，<strong>必须要先保证变量有 不会是 <code>null</code> 或者 <code>undefined</code></strong>。</p>
<p>改造以上函数如下：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cstor</span>(<span class="params">variable</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (variable === <span class="literal">null</span> || variable === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Null or Undefined'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> cst = variable.constructor;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (cst) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Number</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Number'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">String</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'String'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Boolean</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Boolean'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Array</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Array'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Object</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Object'</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">Function</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Function'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>所以说使用 <code>constructor</code> 来判断对象类型时要<strong>无时无刻不伴随着排除</strong> <code>null</code> 和 <code>undefined</code> 的干扰，否则就会产生致命的问题，<strong>因此本人并不推荐</strong>。</p>
<h2 id="正确判断变量类型的姿势"><a href="#正确判断变量类型的姿势" class="headerlink" title="正确判断变量类型的姿势"></a>正确判断变量类型的姿势</h2><h3 id="一个万金油方法-Object-prototype-toString-call"><a href="#一个万金油方法-Object-prototype-toString-call" class="headerlink" title="一个万金油方法 Object.prototype.toString.call()"></a>一个万金油方法 Object.prototype.toString.call()</h3><p><a href="https://link.juejin.im/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FObject%2FtoString" target="_blank" rel="noopener">MDN reference</a></p>
<p><code>Object.prototype.toString.call(variable)</code> 用这个方法来判断变量类型<strong>目前是最可靠的了</strong>，它总能返回正确的值。</p>
<p>该方法返回 “<code>[object type]</code>“, 其中<code>type</code>是<strong>对象类型</strong>。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="number">123</span>); <span class="comment">//  "[object Number]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="string">'123'</span>); <span class="comment">//  "[object String]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">false</span>); <span class="comment">//  "[object Boolean]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>); <span class="comment">//  "[object Undefined]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">null</span>); <span class="comment">//  "[object Null]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([]); <span class="comment">//  "[object Array]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;&#125;); <span class="comment">//  "[object Function]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(&#123;&#125;); <span class="comment">//  "[object Object]"</span></span><br></pre></td></tr></table></figure>
<h3 id="String-Boolean-Number-Undefined-四种基本类型的判断"><a href="#String-Boolean-Number-Undefined-四种基本类型的判断" class="headerlink" title="String Boolean Number Undefined 四种基本类型的判断"></a>String Boolean Number Undefined 四种基本类型的判断</h3><p>除了 <code>Null</code> 之外的这四种基本类型值，都可以用 <code>typeof</code> 操作符很好的进行判断处理。</p>
<p>当然也可以用 <code>Object.prototype.toString.call(null)</code></p>
<p><code>Symbol</code> 类型 和 引用类型 <code>Function</code> 也可以</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="string">'abc'</span>; <span class="comment">// "string"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">false</span>; <span class="comment">// "boolean"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">123</span>; <span class="comment">// "number"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">// "undefined"</span></span><br></pre></td></tr></table></figure>
<h3 id="Null-类型的判断"><a href="#Null-类型的判断" class="headerlink" title="Null 类型的判断"></a>Null 类型的判断</h3><p>除了 <code>Object.prototype.toString.call(null)</code> 之外，目前最好的方法就是用 <code>variable === null</code> 全等来判断了。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a === <span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'a is null'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  a is null</span></span><br></pre></td></tr></table></figure>
<h3 id="检测变量是否是一个-Array-数组"><a href="#检测变量是否是一个-Array-数组" class="headerlink" title="检测变量是否是一个 Array 数组"></a>检测变量是否是一个 Array 数组</h3><p><code>typeof []</code> 会返回 <code>object</code> 因此明显是不能够用 <code>typeof</code> 操作符进行数组类型判断的。目前常用的方法有以下几种</p>
<h4 id="1-Object-prototype-toString-call"><a href="#1-Object-prototype-toString-call" class="headerlink" title="1. Object.prototype.toString.call()"></a>1. Object.prototype.toString.call()</h4><p>万金油方法是一种。</p>
<h4 id="2-ECMAscript5-新增-Array-isArray"><a href="#2-ECMAscript5-新增-Array-isArray" class="headerlink" title="2. ECMAscript5 新增 Array.isArray()"></a>2. ECMAscript5 新增 Array.isArray()</h4><p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArray([]); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h4 id="3-instanceof-运算符-陷阱"><a href="#3-instanceof-运算符-陷阱" class="headerlink" title="3. instanceof 运算符 陷阱"></a>3. instanceof 运算符 陷阱</h4><p><a href="https://link.juejin.im/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Finstanceof" target="_blank" rel="noopener">MDN reference</a></p>
<p><code>instanceof</code> 运算符<strong>用来测试一个对象在其原型链中是否存在一个构造函数的 <code>prototype</code> 属性</strong>。但前面说了 这个不准确.</p>
<blockquote>
<a href="/2018/12/06/javascript原型/" title="javascript原型">javascript原型</a>
</blockquote>
<p>因此可以检测一个对象的原型链中是否存在 <code>Array</code> 构造函数的 <code>prototype</code> 属性来判断是不是数组。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="检测变量是否是一个-Object-对象"><a href="#检测变量是否是一个-Object-对象" class="headerlink" title="检测变量是否是一个 Object 对象"></a>检测变量是否是一个 Object 对象</h3><p><code>typeof</code> 和 <code>instanceof</code> 都不能安全的判断变量是否是 <code>Object</code> 对象。</p>
<p>目前判断变量是否是对象的<strong>最安全的方法</strong>就只有 <code>Object.prototype.toString.call()</code> 了。</p>
<h3 id="Function-这块可以继续总结补充-补充-Symbol-类型"><a href="#Function-这块可以继续总结补充-补充-Symbol-类型" class="headerlink" title="Function 这块可以继续总结补充, 补充 Symbol 类型"></a>Function 这块可以继续总结补充, 补充 Symbol 类型</h3><p>用 <code>typeof</code> 可以, 用 <code>instanceof</code> 可以, 用<code>Object.prototype.toString.call()</code>也可以</p>
<p>instanceof 主要用来判断引用类型的,  不能判断 Symbol 类型</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/10016" target="_blank" rel="noopener">JavaScript 数据类型判断 666</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/09/javascript-数据类型/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/09/javascript-数据类型/" itemprop="url">javascript-数据类型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-09T16:57:49+08:00">2019-05-09</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/JavaScript完全手册-2018版/" itemprop="url" rel="index"><span itemprop="name">JavaScript完全手册(2018版)</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-数据类型"><a href="#javascript-数据类型" class="headerlink" title="javascript-数据类型"></a>javascript-数据类型</h1><p><a href="https://www.html.cn/archives/10017" target="_blank" rel="noopener">数据类型 – JavaScript 完全手册（2018 版）6666</a></p>
<p>您有时可能会读到 JS 是<strong>无类型</strong>的，但这是不正确的。 确实，您可以将各种不同类型分配给变量，但 JavaScript 具有类型。 特别是，它提供了原始类型和对象类型。</p>
<h2 id="原始类型"><a href="#原始类型" class="headerlink" title="原始类型"></a>原始类型</h2><p>原始类型包括：5+1(Symbol)</p>
<p>Number（数字）<br>String（字符串）<br>Boolean（布尔）<br>还有两种特殊的原始类型：</p>
<p>Null（空值）<br>Undefined（未定义）<br>让我们在这里详细介绍它们。</p>
<h3 id="Number（数字）"><a href="#Number（数字）" class="headerlink" title="Number（数字）"></a>Number（数字）</h3><p>在内部，JavaScript <strong>只有一种数字类型</strong>：每个数字都是一个<strong>浮点数</strong>。</p>
<p>数字字面量是源代码中表示的数字，并且取决于它的编写方式，它可以是整数字面量或浮点数字面量。</p>
<p>整数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JavaScript 代码:</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">5354576767321</span></span><br><span class="line"><span class="number">0xCC</span> <span class="comment">//hex</span></span><br></pre></td></tr></table></figure>
<p>浮点数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JavaScript 代码:</span><br><span class="line"><span class="number">3.14</span></span><br><span class="line"><span class="number">.1234</span></span><br><span class="line"><span class="number">5.2e4</span> <span class="comment">//5.2 * 10^4</span></span><br></pre></td></tr></table></figure>
<p>实际工作中你会碰到很多不可思议的问题，特别是浮点数运算的精度问题，请查看以下几篇文章，了解相关问题及解决方案：</p>
<p><a href="https://www.html.cn/archives/7340" target="_blank" rel="noopener">JavaScript 浮点数运算的精度问题</a><br><a href="https://www.html.cn/archives/9318" target="_blank" rel="noopener">JavaScript 中科学计数法转化为数值字符串形式</a><br><a href="https://www.html.cn/archives/7324" target="_blank" rel="noopener">JavaScript 格式化数字、金额、千分位、保留几位小数、舍入舍去…</a></p>
<blockquote>
<p>理解IEEE 754 的结构对理解最大值, 最小值很有用. 但注意<strong>安全整数</strong>这一回事, 还涉及指数为0是正负0和指数为2047的表示无穷大<code>2</code>个和NAN有<code>2^53-2</code>, 就是去掉2个无穷<br><a href="https://juejin.im/post/5ccae4f25188254190544ded#heading-3" target="_blank" rel="noopener">ECMAScript中的Number Type与 IEEE 754-2008 安全整数</a></p>
</blockquote>
<h3 id="String（字符串）"><a href="#String（字符串）" class="headerlink" title="String（字符串）"></a>String（字符串）</h3><p>字符串类型是一系列字符。它在源代码中定义为字符串字面量，用<code>单引号</code>或<code>双引号</code>括起来：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'A string'</span>;</span><br><span class="line"><span class="string">'Another string'</span>;</span><br></pre></td></tr></table></figure>
<p>通过使用反斜杠 <code>\</code> ，字符串可以<strong>换行</strong></p>
<blockquote>
<p>只是输入的时候可以换行输入, 而<strong>不是输出的时候显示是换行的</strong><br>要做到输出时候是换行的要用<code>字符串模板</code>, 或使用<code>\n</code>换行</p>
</blockquote>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'A \</span></span><br><span class="line"><span class="string">string'</span>;</span><br></pre></td></tr></table></figure>
<p>字符串可在打印字符串时<strong>解析转义序列</strong>，例如 <code>\n</code> 以创建一个<strong>新行</strong>。当您需要在<strong>引号</strong>括起的字符串中输入引号时，反斜杠也很有用，以防止将字符解释为结束引号：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'I\'m a developer'</span>;</span><br></pre></td></tr></table></figure>
<p>可以使用 <code>+</code> 运算符连接字符串：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'A '</span> + <span class="string">'string'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h4><p>在 <code>ES2015(ES6)</code> 中引入，模板字符串是<strong>字符串字面量</strong>，允许更强大的方式来定义字符串。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`a string`</span>;</span><br></pre></td></tr></table></figure>
<p>您可以执行字符串替换，嵌入任何 JavaScript 表达式的结果：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`a string with <span class="subst">$&#123;something&#125;</span>`</span><span class="string">`a string with <span class="subst">$&#123;something +</span></span></span><br><span class="line"><span class="string"><span class="subst">  somethingElse&#125;</span>`</span><span class="string">`a string with <span class="subst">$&#123;obj.something()&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>
<p>您可以轻松拥有<strong>多行字符串</strong>：, 不用加转义的<code>\n</code></p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`a string</span></span><br><span class="line"><span class="string">with</span></span><br><span class="line"><span class="string"><span class="subst">$&#123;something&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Boolean（布尔）"><a href="#Boolean（布尔）" class="headerlink" title="Boolean（布尔）"></a>Boolean（布尔）</h3><p>JavaScript 为布尔值定义了两个保留字：<code>true</code> 和 <code>false</code> 。 许多比较操作 <code>==</code> <code>===</code> <code>&lt;</code> <code>&gt;</code>（依此类推）返回一个布尔值。</p>
<p><code>if</code> ，<code>while</code> 语句和其他控制结构使用布尔值来确定程序的流程。</p>
<p>他们不仅接受<code>true</code> 或 <code>false</code>，还接受 <code>真值</code> 和 <code>假值</code>。</p>
<p><strong>假值</strong>，值被解析为 <code>false</code>，有</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> - <span class="number">0</span>;</span><br><span class="line"><span class="literal">NaN</span>;</span><br><span class="line"><span class="literal">undefined</span>;</span><br><span class="line"><span class="literal">null</span>;</span><br><span class="line">(<span class="string">''</span>); <span class="comment">//empty string</span></span><br></pre></td></tr></table></figure>
<p>其余所有的值都被解析为 <strong>真值（truthy）</strong> 。</p>
<p>实际工作中我们还会碰到等值比较，请查看 <a href="https://www.html.cn/archives/7977" target="_blank" rel="noopener">JavaScript 等值比较 == ，=== 和 Object.is()</a> 了解详情。</p>
<blockquote>
<p><a href="https://github.com/dorey/JavaScript-Equality-Table" target="_blank" rel="noopener">JavaScript-Equality-Table</a></p>
</blockquote>
<h3 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h3><p><code>null</code> 是一个特殊值，表示缺少值，<code>Null</code>这种类型就只有一个值 <code>null</code>。 这也是其他语言中的常见概念，例如在 <code>Python</code> 中可以称为 <code>nil</code> 或 <code>None</code> 。</p>
<h3 id="Undefined"><a href="#Undefined" class="headerlink" title="Undefined"></a>Undefined</h3><p><code>undefined</code> 表示变量<strong>尚未初始化且值不存在</strong>。</p>
<p>它通常由<strong>没有返回值的函数</strong>返回。 当一个函数接受一个但不是由调用者设置的参数时，它是未定义的。</p>
<p>要检测值是否未定义，请使用构造：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> variable === <span class="string">'undefined'</span>;</span><br></pre></td></tr></table></figure>
<p>JavaScript 新手很容易混淆 <code>undefined</code> 和 <code>null</code> ，请阅读 <a href="https://www.html.cn/archives/6236" target="_blank" rel="noopener">JavaScript 中 undefined 和 null 的区别 666</a> 了解。</p>
<blockquote>
<p><strong>首字母大写</strong>的<code>Undefined</code>表示的是一种<strong>数据类型</strong>,<strong>首字母小写</strong>的<code>undefined</code>表示的是属于这种<strong>数据类型的唯一的一个值</strong>。</p>
</blockquote>
<h2 id="Object-对象-类型"><a href="#Object-对象-类型" class="headerlink" title="Object(对象) 类型"></a>Object(对象) 类型</h2><p>任何不是原始类型的东西都是对象类型。</p>
<p><strong>函数</strong>，<strong>数组</strong>和我们称之为<strong>对象</strong>的是对象类型。 它们本身是特殊的，但是它们继承了对象的许多属性，比如具有<strong>原型</strong>，并且还有对这些属性起作用的<strong>方法</strong>。</p>
<blockquote>
<p><code>Object</code> 是唯一的复杂数据类型。 <code>Object</code> , <code>Array</code> , <code>Function</code> 这些<strong>引用类型</strong>值最终都可以归结为 <code>Object</code> 复杂数据类型。</p>
</blockquote>
<p>看 <a href="/2018/12/07/js的数组/" title="js的数组">js的数组</a> 里面还有介绍对象的特性, 访问器属性.</p>
<p>然后涉及Map set JSON这些</p>
<h2 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h2><p>实际开发工作中，我们会经常碰到 JavaScript 数据类型判断，阅读 <a href="https://www.html.cn/archives/10016" target="_blank" rel="noopener">JavaScript 数据类型判断 666</a> 了解 JavaScript 数据类型判断的陷阱 与 最佳的处理方式。</p>
<h2 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h2><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/10017" target="_blank" rel="noopener">数据类型 – JavaScript 完全手册（2018 版）6666</a></p>
<p><a href="https://www.html.cn/archives/7340" target="_blank" rel="noopener">JavaScript 浮点数运算的精度问题</a><br><a href="https://www.html.cn/archives/9318" target="_blank" rel="noopener">JavaScript 中科学计数法转化为数值字符串形式</a><br><a href="https://www.html.cn/archives/7324" target="_blank" rel="noopener">JavaScript 格式化数字、金额、千分位、保留几位小数、舍入舍去…</a></p>
<p><a href="https://www.html.cn/archives/7977" target="_blank" rel="noopener">JavaScript 等值比较 == ，=== 和 Object.is() 666</a><br><a href="https://github.com/dorey/JavaScript-Equality-Table" target="_blank" rel="noopener">JavaScript-Equality-Table</a><br><a href="https://www.html.cn/archives/6236" target="_blank" rel="noopener">JavaScript 中 undefined 和 null 的区别 66666</a><br><a href="https://www.html.cn/archives/10016" target="_blank" rel="noopener">JavaScript 数据类型判断 666</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/09/javascript-变量/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Henry x">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatarMogu.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little H title">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/09/javascript-变量/" itemprop="url">javascript-变量</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-09T16:20:21+08:00">2019-05-09</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/JavaScript完全手册-2018版/" itemprop="url" rel="index"><span itemprop="name">JavaScript完全手册(2018版)</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-变量"><a href="#javascript-变量" class="headerlink" title="javascript-变量"></a>javascript-变量</h1><p><a href="https://www.html.cn/archives/10014" target="_blank" rel="noopener">变量 – JavaScript 完全手册（2018 版）6666</a></p>
<p>变量是分配给标识符的字面量，因此您可以稍后在程序中引用和使用它。 我们将学习如何使用 JavaScript 声明一个变量。</p>
<h2 id="JavaScript-变量简介"><a href="#JavaScript-变量简介" class="headerlink" title="JavaScript 变量简介"></a>JavaScript 变量简介</h2><p><strong>变量是分配给标识符的字面量</strong>，因此您可以稍后在程序中引用和使用它。</p>
<p>JavaScript 中的变量<strong>没有附加任何类型</strong>。 将<strong>特定字面量类型</strong>分配给变量后，您可以稍后重新分配该变量，以持有任何其他类型，而不会出现类型错误或任何问题。</p>
<blockquote>
<p>这就是 JavaScript 有时被称为 <strong>“无类型”</strong> 的原因。<br>但不正确. 和<a href="/2019/05/09/javascript-数据类型/" title="javascript-数据类型">javascript-数据类型</a>中说的 有类型 捋一捋</p>
</blockquote>
<p>建议先声明变量再使用它。 有 3 种方法可以做到：使用 <code>var</code>，<code>let</code> 或 <code>const</code>。 这三种方式在以后如何与变量进行交互方面有所不同。</p>
<blockquote>
<p><code>let</code> 或 <code>const</code>必须先声明变量才能使用它, 而<code>var</code>有变量提升<br><a href="https://www.css88.com/archives/7924" target="_blank" rel="noopener">JavaScript 中的 Hoisting (变量提升和函数声明提升) 666</a> &gt; <a href="https://juejin.im/post/5a5ee28f6fb9a01cbe655860" target="_blank" rel="noopener">由变量提升谈谈 JavaScript Execution Context</a> &gt; <a href="https://www.cnblogs.com/buchongming/p/5858026.html" target="_blank" rel="noopener">JavaScript 中作用域和作用域链的简单理解（变量提升）</a></p>
</blockquote>
<h2 id="使用-var"><a href="#使用-var" class="headerlink" title="使用 var"></a>使用 var</h2><p>在 <code>ES2015</code> <strong>之前</strong>，<code>var</code> 是<strong>唯一</strong>可用于定义变量的构造。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>如果您忘记添加 <code>var</code> ，您将为未声明的变量分配值，<strong>结果可能会有所不同</strong>。</p>
<p>在现代环境中，<strong>启用严格模式后，您将收到错误</strong>。 在较旧的环境中（或禁用严格模式），这将<strong>简单地初始化变量并将其分配给全局(<code>global</code>)对象</strong>，在浏览器中，全局对象是 <code>window</code>，在 Node.js 中，全局对象是 <code>global</code> 。</p>
<blockquote>
<p>注意分配给全局对象和声明变量一个全局变量是不一样的</p>
</blockquote>
<p>如果在声明变量时没有初始化变量，则在为其赋值之前，它将具有 <code>undefined</code> (未定义) 的值。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a; <span class="comment">//typeof a === 'undefined'</span></span><br></pre></td></tr></table></figure>
<p>您可以<strong>多次重新声明变量</strong>，以覆盖它：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>您还可以在<strong>同一语句中一次性声明多个变量</strong>：</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p><strong>作用域</strong>是代码中变量的<strong>可见性</strong>。</p>
<p>使用<strong>任何函数外部</strong>的 <code>var</code> 初始化的变量将<strong>分配给全局对象</strong>，具有全局作用域并且是任何地方可见。<br>在<strong>函数内部</strong>用 <code>var</code> 初始化的变量，被赋值变量的<strong>作用域是该函数</strong>，它被称为 <strong>local(本地)作用域 或 函数作用域</strong>，只在函数内可见，就<strong>像函数参数</strong>一样。</p>
<p>函数中定义与全局变量名称的任何变量，<strong>可见性优先于全局变量，并将全局变量隐藏</strong>。</p>
<blockquote>
<p>作用域链的知识点</p>
</blockquote>
<p>重要的是要理解一个 <code>block</code>(块)（由一对花括号<code>{}</code>标识）<strong>没有定义新的作用域</strong>。</p>
<blockquote>
<p><strong>只有在创建函数时才会创建新作用域</strong>，因为 <code>var</code> <strong>没有块作用域，而是函数作用域</strong>。</p>
</blockquote>
<p>在函数内部，其中定义的任何变量在所有函数代码中都是可见的(<strong>前后顺序无关</strong>)，即使变量是在函数末尾声明的，它仍然可以在开头引用，因为 JavaScript 在执行代码之前实际上将所有变量都移到了顶层（被称为 <code>hoisting</code>(提升) ）。<strong>为避免混淆，请始终在函数开头声明变量</strong>。</p>
<p>作用域对于新手来说很容易混淆，你可以查看 <a href="https://www.html.cn/archives/7255" target="_blank" rel="noopener">深入理解 JavaScript 中的作用域和上下文</a> 和 <a href="https://www.html.cn/archives/7300" target="_blank" rel="noopener">实例分析 JavaScript 作用域</a> 来深入理解作用域。</p>
<blockquote>
<p>另外 <code>Hoisting</code>(提升) 这个词是用来解释 <strong>变量 和 函数声明</strong> 是如何被提升到 <strong>函数或全局</strong> 作用域<strong>顶部</strong>的。</p>
</blockquote>
<p>你在任何的 <code>JavaScript</code> 文档中找不到这个术语，我们说的 <code>Hoisting</code>(提升) 只是使用了其字面含义来做个比喻。如果你已经对 JavaScript 作用域工作原理有基本的了解，那么更深入的了解 <a href="https://www.html.cn/archives/7924" target="_blank" rel="noopener">JavaScript 中的 Hoisting (变量提升和函数声明提升)</a> 有助于你建立更强大的基础知识。</p>
<blockquote>
<p>也可以看总结的 <a href="/2019/02/12/再谈js作用域/" title="再谈js作用域">再谈js作用域</a></p>
</blockquote>
<h2 id="使用-let"><a href="#使用-let" class="headerlink" title="使用 let"></a>使用 let</h2><p><code>let</code> 是 <code>ES2015</code> 中引入的新功能，<strong>它本质上是 <code>var</code> 的块作用域版本</strong>。 它的作用域仅限于定义它的 <code>block</code>(块)（由一对花括号标识），语句或表达式，以及所有包含的内部块。</p>
<p>现代 <code>JavaScript</code> 开发人员<strong>可能会选择仅使用</strong> <code>let</code> <strong>并完全放弃使用 var</strong>。</p>
<p><code>let</code> 也可以在任何函数之外定义 – 与 <code>var</code> 相反 – <code>let</code> 不会创建全局变量。</p>
<h2 id="使用-const"><a href="#使用-const" class="headerlink" title="使用 const"></a>使用 const</h2><p>用 <code>var</code> 或 <code>let</code> 声明的变量可以稍后在程序中<strong>更改，然后重新分配</strong>。 初始化 <code>const</code> 后，<strong>其值永远不会再次更改，并且不能重新分配给不同的值</strong>。</p>
<p>JavaScript 代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="string">'test'</span>;</span><br></pre></td></tr></table></figure>
<p>我们不能为 a 常量指定不同的字面量。<strong>然而，如果 a 是一个提供方法的<code>对象</code>，那么我们可以更改 a <code>内容</code></strong>。</p>
<blockquote>
<p>可以改 a 的内容, 不是改 a 的引用的值</p>
</blockquote>
<p><code>const</code> 不提供不可变性（<code>immutability</code>），<strong>只是确保不能更改引用</strong>。</p>
<p><code>const</code> 具有<strong>块范围</strong>，与 <code>let</code> 相同。</p>
<p>现代 <code>JavaScript</code> 开发人员可能会选择始终将 <code>const</code> 用于不需要在程序中稍后重新分配的变量。</p>
<p>为什么？ 因为我们应该始终使用最简单的结构，以避免在未来发生错误。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.html.cn/archives/10014" target="_blank" rel="noopener">变量 – JavaScript 完全手册（2018 版）6666</a></p>
<p><a href="https://www.html.cn/archives/7255" target="_blank" rel="noopener">深入理解 JavaScript 中的作用域和上下文</a><br><a href="https://www.html.cn/archives/7262" target="_blank" rel="noopener">JavaScript 核心概念之作用域和闭包</a><br><a href="https://www.html.cn/archives/7300" target="_blank" rel="noopener">实例分析 JavaScript 作用域</a><br><a href="https://www.html.cn/archives/7924" target="_blank" rel="noopener">JavaScript 中的 Hoisting (变量提升和函数声明提升)</a></p>
<a href="/2019/02/12/再谈js作用域/" title="再谈js作用域">再谈js作用域</a>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatarMogu.jpg" alt="Henry x">
            
              <p class="site-author-name" itemprop="name">Henry x</p>
              <p class="site-description motion-element" itemprop="description">this is description</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">117</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    <span class="site-state-item-count">22</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    <span class="site-state-item-count">121</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yourname" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:yourname@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://example.com/" title="weibo" target="_blank">weibo</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Henry x</span>

  

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.1"></script>



  



	





  





  










  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

  

</body>
</html>
